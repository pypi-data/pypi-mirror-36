<div id="admin" ng-controller="adminCtl" ng-init="init()">
    <h1>Admin</h1>

    <div id="step_create_widget">
        <h2>1. Create a Widget instance (without settings)</h2>

        <form id="widget_create_without_settings" method="POST">
            <label for="widget_create_without_settings_api_endpoint">endpoint</label>
            <input type="text" id="widget_create_without_settings_api_endpoint" value="/data/Conversation/1/widgets"
                   size="50"/>
            <br/>
            <label for="widget_create_without_settings_type">type</label>
            <input type="text" id="widget_create_without_settings_type" value="MultiCriterionVotingWidget" size="50"/>
            <br/>
            <input type="submit"/>
            <span id="widget_create_without_settings_result"></span>
        </form>
    </div>

    <!-- <div id="step_set_settings" ng-show="current_step == 2"> -->
    <div id="step_set_settings">
        <h2>2. Set its settings</h2>

        <form id="set_settings" method="POST">
            <label for="set_settings_api_endpoint">endpoint</label>
            <input type="text" id="set_settings_api_endpoint" value="/data/Widget/1/settings" size="50"/>
            <br/>
            <label for="set_settings_settings">settings</label>
            <textarea id="set_settings_settings">{}</textarea>
            <br/>
            <input type="submit"/>
            <span id="set_settings_result"></span>
        </form>
    </div>


    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>

    <h2>Create a Widget instance (with settings)</h2>

    <form id="widget_create" method="POST">
        <label for="widget_create_api_endpoint">endpoint</label>
        <input type="text" id="widget_create_api_endpoint" value="/data/Conversation/1/widgets" size="50"/>
        <br/>
        JSON content:
        <br/>
        <label for="widget_create_type">type</label>
        <input type="text" id="widget_create_type" value="MultiCriterionVotingWidget" size="50"/>
        <br/>
        <label for="widget_create_settings">settings</label>
        <textarea id="widget_create_settings">
            {
            "items":[
            {
            "type":"2_axes",
            "criteria":[
            {
            "entity_id":"local:GenericIdeaNode/70",
            "name_slug":"rentabilite",
            "name":"Rentabilite (%)",
            "description":"Description de l'axe rentabilite",
            "valueMin":0,
            "valueMax":100,
            "valueDefault":10,
            "descriptionMin":"faible",
            "descriptionMax":"forte",
            "ticks":6
            },
            {
            "entity_id":"local:GenericIdeaNode/71",
            "name_slug":"risque",
            "name":"Risque (%)",
            "description":"Description de l'axe risque",
            "valueMin":0,
            "valueMax":100,
            "valueDefault":0,
            "descriptionMin":"faible",
            "descriptionMax":"fort",
            "ticks":6
            }
            ],
            "width": 300,
            "height": 300
            },
            {
            "type": "vertical_gauge",
            "criteria": [
            {
            "entity_id":"local:GenericIdeaNode/72",
            "name_slug":"investissement",
            "name":"Investissement (Euros)",
            "description":"Description de l'axe investissement",
            "valueMin":0,
            "valueMax":50000,
            "valueDefault":22222,
            "ticks":5
            }
            ],
            "width": 300,
            "height": 300
            },
            {
            "type": "vertical_gauge",
            "criteria": [
            {
            "entity_id":"local:GenericIdeaNode/73",
            "name_slug":"difficulte_mise_en_oeuvre",
            "name":"Difficulte de mise en oeuvre (note)",
            "description":"Description de l'axe difficulte de mise en oeuvre",
            "valueMin":0,
            "valueMax":100,
            "valueDefault":50,
            "ticks":12,
            "descriptionMin":"Tres facile",
            "descriptionMax":"Tres difficile",
            "colorMin":"#00ff00",
            "colorMax":"#ff0000",
            "colorAverage":"#ffff00",
            "colorCursor":"#000000"
            }
            ],
            "width": 300,
            "height": 300
            }
            ],
            "padding":60,
            }
        </textarea>
        <br/>
        <input type="submit"/>
        <span id="widget_create_result"></span>
    </form>


    <h2>Get children of an idea, and print them as criteria list</h2>

    <form id="idea_children_to_criteria" method="POST">
        <label for="idea_children_to_criteria_endpoint">idea children endpoint</label>
        <input type="text" id="idea_children_to_criteria_endpoint" value="/data/GenericIdeaNode/3/children" size="50"/>
        <br/>
        <input type="submit"/>

        <div id="idea_children_to_criteria_result"></div>
    </form>


    <h2>Set widget's criteria</h2>

    <form id="criteria_set" method="POST">
        <label for="criteria_set_endpoint">criteria endpoint</label>
        <input type="text" id="criteria_set_endpoint" value="/data/Conversation/1/widgets/13/criteria" size="50"/>
        <br/>
        <label for="criteria_set_criteria">criteria</label>
        <textarea id="criteria_set_criteria">[{"@id":"local:GenericIdeaNode/70"}]</textarea>
        <br/>
        <input type="submit"/>

        <div id="criteria_set_result"></div>
    </form>


    <h2>Add a criterion</h2>

    <form id="criterion_add" method="POST">
        <label for="criterion_add_api_endpoint">criteria endpoint</label>
        <input type="text" id="criterion_add_api_endpoint" value="/data/Conversation/1/widgets/13/criteria" size="50"/>
        <br/>
        <label for="criterion_add_id">criterion id</label>
        <input type="text" id="criterion_add_id" value="local:GenericIdeaNode/3" size="50"/>
        <br/>
        <input type="submit"/>
        <span id="criterion_add_result"></span>
    </form>

    <h2>Remove a criterion (TODO backend side)</h2>

    <form id="criterion_remove" method="POST">
        <label for="criterion_remove_api_endpoint">criteria endpoint</label>
        <input type="text" id="criterion_remove_api_endpoint" value="/data/Conversation/1/widgets/13/criteria" size="50"/>
        <br/>
        <label for="criterion_remove_id">criterion id</label>
        <input type="text" id="criterion_remove_id" value="local:GenericIdeaNode/3" size="50"/>
        <br/>
        <input type="submit"/>
        <span id="criterion_remove_result"></span>
    </form>

    <h2>Delete a widget instance</h2>

    <form id="widget_delete" method="POST">
        <label for="widget_delete_widget_endpoint">widget endpoint</label>
        <input type="text" id="widget_delete_widget_endpoint" value="/data/Conversation/1/widgets/13" size="50"/>
        <br/>
        <input type="submit"/>
        <span id="widget_delete_result"></span>
    </form>

    <br/>
    <br/>
    <br/>

</div>