{"version":3,"file":"a7cf01b6fb0665ac8ecc.chunk.js","sources":["webpack:///a7cf01b6fb0665ac8ecc.chunk.js"],"sourcesContent":["/*! For license information please see a7cf01b6fb0665ac8ecc.chunk.js.LICENSE */\n(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{156:function(e,t,a){\"use strict\";a(2),a(30);var i=a(90),o=a(39),r=a(3),n=a(0),s=a(36);const l=n[\"a\"]`<style>\n  :host {\n    display: inline-block;\n    white-space: nowrap;\n    cursor: pointer;\n    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);\n    /* -1px is a sentinel for the default and is replaced in \\`attached\\`. */\n    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);\n    @apply --paper-font-common-base;\n    line-height: 0;\n    -webkit-tap-highlight-color: transparent;\n  }\n\n  :host([hidden]) {\n    display: none !important;\n  }\n\n  :host(:focus) {\n    outline: none;\n  }\n\n  .hidden {\n    display: none;\n  }\n\n  #checkboxContainer {\n    display: inline-block;\n    position: relative;\n    width: var(--calculated-paper-checkbox-size);\n    height: var(--calculated-paper-checkbox-size);\n    min-width: var(--calculated-paper-checkbox-size);\n    margin: var(--paper-checkbox-margin, initial);\n    vertical-align: var(--paper-checkbox-vertical-align, middle);\n    background-color: var(--paper-checkbox-unchecked-background-color, transparent);\n  }\n\n  #ink {\n    position: absolute;\n\n    /* Center the ripple in the checkbox by negative offsetting it by\n     * (inkWidth - rippleWidth) / 2 */\n    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    width: var(--calculated-paper-checkbox-ink-size);\n    height: var(--calculated-paper-checkbox-ink-size);\n    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));\n    opacity: 0.6;\n    pointer-events: none;\n  }\n\n  #ink:dir(rtl) {\n    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);\n    left: auto;\n  }\n\n  #ink[checked] {\n    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));\n  }\n\n  #checkbox {\n    position: relative;\n    box-sizing: border-box;\n    height: 100%;\n    border: solid 2px;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    border-radius: 2px;\n    pointer-events: none;\n    -webkit-transition: background-color 140ms, border-color 140ms;\n    transition: background-color 140ms, border-color 140ms;\n  }\n\n  /* checkbox checked animations */\n  #checkbox.checked #checkmark {\n    -webkit-animation: checkmark-expand 140ms ease-out forwards;\n    animation: checkmark-expand 140ms ease-out forwards;\n  }\n\n  @-webkit-keyframes checkmark-expand {\n    0% {\n      -webkit-transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      -webkit-transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  @keyframes checkmark-expand {\n    0% {\n      transform: scale(0, 0) rotate(45deg);\n    }\n    100% {\n      transform: scale(1, 1) rotate(45deg);\n    }\n  }\n\n  #checkbox.checked {\n    background-color: var(--paper-checkbox-checked-color, var(--primary-color));\n    border-color: var(--paper-checkbox-checked-color, var(--primary-color));\n  }\n\n  #checkmark {\n    position: absolute;\n    width: 36%;\n    height: 70%;\n    border-style: solid;\n    border-top: none;\n    border-left: none;\n    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));\n    border-color: var(--paper-checkbox-checkmark-color, white);\n    -webkit-transform-origin: 97% 86%;\n    transform-origin: 97% 86%;\n    box-sizing: content-box; /* protect against page-level box-sizing */\n  }\n\n  #checkmark:dir(rtl) {\n    -webkit-transform-origin: 50% 14%;\n    transform-origin: 50% 14%;\n  }\n\n  /* label */\n  #checkboxLabel {\n    position: relative;\n    display: inline-block;\n    vertical-align: middle;\n    padding-left: var(--paper-checkbox-label-spacing, 8px);\n    white-space: normal;\n    line-height: normal;\n    color: var(--paper-checkbox-label-color, var(--primary-text-color));\n    @apply --paper-checkbox-label;\n  }\n\n  :host([checked]) #checkboxLabel {\n    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));\n    @apply --paper-checkbox-label-checked;\n  }\n\n  #checkboxLabel:dir(rtl) {\n    padding-right: var(--paper-checkbox-label-spacing, 8px);\n    padding-left: 0;\n  }\n\n  #checkboxLabel[hidden] {\n    display: none;\n  }\n\n  /* disabled state */\n\n  :host([disabled]) #checkbox {\n    opacity: 0.5;\n    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n  }\n\n  :host([disabled][checked]) #checkbox {\n    background-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));\n    opacity: 0.5;\n  }\n\n  :host([disabled]) #checkboxLabel  {\n    opacity: 0.65;\n  }\n\n  /* invalid state */\n  #checkbox.invalid:not(.checked) {\n    border-color: var(--paper-checkbox-error-color, var(--error-color));\n  }\n</style>\n\n<div id=\"checkboxContainer\">\n  <div id=\"checkbox\" class\\$=\"[[_computeCheckboxClass(checked, invalid)]]\">\n    <div id=\"checkmark\" class\\$=\"[[_computeCheckmarkClass(checked)]]\"></div>\n  </div>\n</div>\n\n<div id=\"checkboxLabel\"><slot></slot></div>`;l.setAttribute(\"strip-whitespace\",\"\"),Object(r.a)({_template:l,is:\"paper-checkbox\",behaviors:[i.a],hostAttributes:{role:\"checkbox\",\"aria-checked\":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:\"aria-checked\"}},attached:function(){Object(s.a)(this,function(){if(\"-1px\"===this.getComputedStyleValue(\"--calculated-paper-checkbox-ink-size\").trim()){var e=this.getComputedStyleValue(\"--calculated-paper-checkbox-size\").trim(),t=\"px\",a=e.match(/[A-Za-z]+$/);null!==a&&(t=a[0]);var i=parseFloat(e),o=8/3*i;\"px\"===t&&(o=Math.floor(o))%2!=i%2&&o++,this.updateStyles({\"--paper-checkbox-ink-size\":o+t})}})},_computeCheckboxClass:function(e,t){var a=\"\";return e&&(a+=\"checked \"),t&&(a+=\"invalid\"),a},_computeCheckmarkClass:function(e){return e?\"\":\"hidden\"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,o.b._createRipple.call(this)}})},157:function(e,t,a){\"use strict\";a(129);const i=customElements.get(\"paper-slider\");customElements.define(\"ha-paper-slider\",class extends i{static get template(){const e=document.createElement(\"template\");e.innerHTML=i.template.innerHTML;const t=e.content.querySelector(\"style\");return t.setAttribute(\"include\",\"paper-slider\"),t.innerHTML=\"\\n      .pin > .slider-knob > .slider-knob-inner {\\n        font-size:  var(--ha-paper-slider-pin-font-size, 10px);\\n        line-height: normal;\\n      }\\n\\n      .pin > .slider-knob > .slider-knob-inner::before {\\n        top: unset;\\n        margin-left: unset;\\n\\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\\n        left: 50%;\\n        width: 2.2em;\\n        height: 2.2em;\\n\\n        -webkit-transform-origin: left bottom;\\n        transform-origin: left bottom;\\n        -webkit-transform: rotate(-45deg) scale(0) translate(0);\\n        transform: rotate(-45deg) scale(0) translate(0);\\n      }\\n\\n      .pin.expand > .slider-knob > .slider-knob-inner::before {\\n        -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\\n        transform: rotate(-45deg) scale(1) translate(7px, -7px);\\n      }\\n\\n      .pin > .slider-knob > .slider-knob-inner::after {\\n        top: unset;\\n        font-size: unset;\\n\\n        bottom: calc(15px + var(--calculated-paper-slider-height)/2);\\n        left: 50%;\\n        margin-left: -1.1em;\\n        width: 2.2em;\\n        height: 2.1em;\\n\\n        -webkit-transform-origin: center bottom;\\n        transform-origin: center bottom;\\n        -webkit-transform: scale(0) translate(0);\\n        transform: scale(0) translate(0);\\n      }\\n\\n      .pin.expand > .slider-knob > .slider-knob-inner::after {\\n        -webkit-transform: scale(1) translate(0, -10px);\\n        transform: scale(1) translate(0, -10px);\\n      }\\n    \",e}})},160:function(e,t,a){\"use strict\";a(156),a(124),a(62),a(61),a(120),a(123);var i=a(0),o=a(4),r=(a(157),a(14));customElements.define(\"ha-form\",class extends(Object(r.a)(o.a)){static get template(){return i[\"a\"]`\n    <style>\n      .error {\n        color: red;\n      }\n      paper-checkbox {\n        display: inline-block;\n        padding: 22px 0;\n      }\n    </style>\n    <template is=\"dom-if\" if=\"[[_isArray(schema)]]\" restamp=\"\">\n      <template is=\"dom-if\" if=\"[[error.base]]\">\n          <div class='error'>[[computeError(error.base, schema)]]</div>\n      </template>\n\n      <template is=\"dom-repeat\" items=\"[[schema]]\">\n        <ha-form data=\"[[_getValue(data, item)]]\" schema=\"[[item]]\" error=\"[[_getValue(error, item)]]\" on-data-changed=\"_valueChanged\" compute-label=\"[[computeLabel]]\" compute-error=\"[[computeError]]\"></ha-form>\n      </template>\n    </template>\n    <template is=\"dom-if\" if=\"[[!_isArray(schema)]]\" restamp=\"\">\n      <template is=\"dom-if\" if=\"[[error]]\">\n        <div class=\"error\">[[computeError(error, schema)]]</div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_equals(schema.type, &quot;string&quot;)]]\" restamp=\"\">\n        <template is=\"dom-if\" if=\"[[_includes(schema.name, &quot;password&quot;)]]\" restamp=\"\">\n          <paper-input\n            type=\"[[_passwordFieldType(unmaskedPassword)]]\"\n            label=\"[[computeLabel(schema)]]\"\n            value=\"{{data}}\"\n            required=\"[[schema.required]]\"\n            auto-validate=\"[[schema.required]]\"\n            error-message='Required'\n          >\n            <paper-icon-button toggles\n              active=\"{{unmaskedPassword}}\"\n              slot=\"suffix\"\n              icon=\"[[_passwordFieldIcon(unmaskedPassword)]]\"\n              id=\"iconButton\"\n              title=\"Click to toggle between masked and clear password\">\n            </paper-icon-button>\n          </paper-input>\n        </template>\n        <template is=\"dom-if\" if=\"[[!_includes(schema.name, &quot;password&quot;)]]\" restamp=\"\">\n          <paper-input\n            label=\"[[computeLabel(schema)]]\"\n            value=\"{{data}}\"\n            required=\"[[schema.required]]\"\n            auto-validate=\"[[schema.required]]\"\n            error-message='Required'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_equals(schema.type, &quot;integer&quot;)]]\" restamp=\"\">\n        <template is=\"dom-if\" if=\"[[_isRange(schema)]]\" restamp=\"\">\n          <div>\n            [[computeLabel(schema)]]\n            <ha-paper-slider pin=\"\" value=\"{{data}}\" min=\"[[schema.valueMin]]\" max=\"[[schema.valueMax]]\"></ha-paper-slider>\n          </div>\n        </template>\n        <template is=\"dom-if\" if=\"[[!_isRange(schema)]]\" restamp=\"\">\n          <paper-input\n            label=\"[[computeLabel(schema)]]\"\n            value=\"{{data}}\"\n            type=\"number\"\n            required=\"[[schema.required]]\"\n            auto-validate=\"[[schema.required]]\"\n            error-message='Required'\n          ></paper-input>\n        </template>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_equals(schema.type, &quot;float&quot;)]]\" restamp=\"\">\n        <!--TODO-->\n        <paper-input\n          label=\"[[computeLabel(schema)]]\"\n          value=\"{{data}}\"\n          required=\"[[schema.required]]\"\n          auto-validate=\"[[schema.required]]\"\n          error-message='Required'\n        ></paper-input>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_equals(schema.type, &quot;boolean&quot;)]]\" restamp=\"\">\n        <div>\n          <paper-checkbox checked=\"{{data}}\">[[computeLabel(schema)]]</paper-checkbox>\n        </div>\n      </template>\n\n      <template is=\"dom-if\" if=\"[[_equals(schema.type, &quot;select&quot;)]]\" restamp=\"\">\n        <paper-dropdown-menu label=\"[[computeLabel(schema)]]\">\n          <paper-listbox slot=\"dropdown-content\" attr-for-selected=\"item-name\" selected=\"{{data}}\">\n            <template is=\"dom-repeat\" items=\"[[schema.options]]\">\n              <paper-item item-name$=\"[[_optionValue(item)]]\">[[_optionLabel(item)]]</paper-item>\n            </template>\n          </paper-listbox>\n        </paper-dropdown-menu>\n      </template>\n\n    </template>\n`}static get properties(){return{data:{type:Object,notify:!0},schema:Object,error:Object,computeLabel:{type:Function,value:()=>e=>e&&e.name},computeError:{type:Function,value:()=>(e,t)=>e}}}_isArray(e){return Array.isArray(e)}_isRange(e){return\"valueMin\"in e&&\"valueMax\"in e}_equals(e,t){return e===t}_includes(e,t){return e.indexOf(t)>=0}_getValue(e,t){return e?e[t.name]:null}_valueChanged(e){this.set([\"data\",e.model.item.name],e.detail.value)}_passwordFieldType(e){return e?\"text\":\"password\"}_passwordFieldIcon(e){return e?\"hass:eye-off\":\"hass:eye\"}_optionValue(e){return Array.isArray(e)?e[0]:e}_optionLabel(e){return Array.isArray(e)?e[1]:e}})},200:function(e,t,a){\"use strict\";a.d(t,\"b\",function(){return r}),a.d(t,\"a\",function(){return n}),a(2);var i=a(54),o=a(1);const r={hostAttributes:{role:\"dialog\",tabindex:\"-1\"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:[\"_modalChanged(modal, __readied)\"],listeners:{tap:\"_onDialogClick\"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(e,t){t&&(e?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=Object(o.b)(e).path,a=0,i=t.indexOf(this);a<i;a++){var r=t[a];if(r.hasAttribute&&(r.hasAttribute(\"dialog-dismiss\")||r.hasAttribute(\"dialog-confirm\"))){this._updateClosingReasonConfirmed(r.hasAttribute(\"dialog-confirm\")),this.close(),e.stopPropagation();break}}}},n=[i.a,r]},204:function(e,t,a){\"use strict\";a(2),a(26),a(30),a(43),a(63);const i=document.createElement(\"template\");i.setAttribute(\"style\",\"display: none;\"),i.innerHTML='<dom-module id=\"paper-dialog-shared-styles\">\\n  <template>\\n    <style>\\n      :host {\\n        display: block;\\n        margin: 24px 40px;\\n\\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\\n        color: var(--paper-dialog-color, var(--primary-text-color));\\n\\n        @apply --paper-font-body1;\\n        @apply --shadow-elevation-16dp;\\n        @apply --paper-dialog;\\n      }\\n\\n      :host > ::slotted(*) {\\n        margin-top: 20px;\\n        padding: 0 24px;\\n      }\\n\\n      :host > ::slotted(.no-padding) {\\n        padding: 0;\\n      }\\n\\n      \\n      :host > ::slotted(*:first-child) {\\n        margin-top: 24px;\\n      }\\n\\n      :host > ::slotted(*:last-child) {\\n        margin-bottom: 24px;\\n      }\\n\\n      /* In 1.x, this selector was `:host > ::content h2`. In 2.x <slot> allows\\n      to select direct children only, which increases the weight of this\\n      selector, so we have to re-define first-child/last-child margins below. */\\n      :host > ::slotted(h2) {\\n        position: relative;\\n        margin: 0;\\n\\n        @apply --paper-font-title;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      /* Apply mixin again, in case it sets margin-top. */\\n      :host > ::slotted(h2:first-child) {\\n        margin-top: 24px;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      /* Apply mixin again, in case it sets margin-bottom. */\\n      :host > ::slotted(h2:last-child) {\\n        margin-bottom: 24px;\\n        @apply --paper-dialog-title;\\n      }\\n\\n      :host > ::slotted(.paper-dialog-buttons),\\n      :host > ::slotted(.buttons) {\\n        position: relative;\\n        padding: 8px 8px 8px 24px;\\n        margin: 0;\\n\\n        color: var(--paper-dialog-button-color, var(--primary-color));\\n\\n        @apply --layout-horizontal;\\n        @apply --layout-end-justified;\\n      }\\n    </style>\\n  </template>\\n</dom-module>',document.head.appendChild(i.content)},210:function(e,t,a){\"use strict\";a(2),a(204);var i=a(96),o=a(200),r=a(3),n=a(0);Object(r.a)({_template:n[\"a\"]`\n    <style include=\"paper-dialog-shared-styles\"></style>\n    <slot></slot>\n`,is:\"paper-dialog\",behaviors:[o.a,i.a],listeners:{\"neon-animation-finish\":\"_onNeonAnimationFinish\"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation(\"entry\")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation(\"exit\")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}})},220:function(e,t,a){\"use strict\";a(2),a(26),a(30);var i=a(200),o=a(3),r=a(0);Object(o.a)({_template:r[\"a\"]`\n    <style>\n\n      :host {\n        display: block;\n        @apply --layout-relative;\n      }\n\n      :host(.is-scrolled:not(:first-child))::before {\n        content: '';\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      :host(.can-scroll:not(.scrolled-to-bottom):not(:last-child))::after {\n        content: '';\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        height: 1px;\n        background: var(--divider-color);\n      }\n\n      .scrollable {\n        padding: 0 24px;\n\n        @apply --layout-scroll;\n        @apply --paper-dialog-scrollable;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n    </style>\n\n    <div id=\"scrollable\" class=\"scrollable\" on-scroll=\"updateScrollState\">\n      <slot></slot>\n    </div>\n`,is:\"paper-dialog-scrollable\",properties:{dialogElement:{type:Object}},get scrollTarget(){return this.$.scrollable},ready:function(){this._ensureTarget(),this.classList.add(\"no-padding\")},attached:function(){this._ensureTarget(),requestAnimationFrame(this.updateScrollState.bind(this))},updateScrollState:function(){this.toggleClass(\"is-scrolled\",this.scrollTarget.scrollTop>0),this.toggleClass(\"can-scroll\",this.scrollTarget.offsetHeight<this.scrollTarget.scrollHeight),this.toggleClass(\"scrolled-to-bottom\",this.scrollTarget.scrollTop+this.scrollTarget.offsetHeight>=this.scrollTarget.scrollHeight)},_ensureTarget:function(){this.dialogElement=this.dialogElement||this.parentElement,this.dialogElement&&this.dialogElement.behaviors&&this.dialogElement.behaviors.indexOf(i.b)>=0?(this.dialogElement.sizingTarget=this.scrollTarget,this.scrollTarget.classList.remove(\"fit\")):this.dialogElement&&this.scrollTarget.classList.add(\"fit\")}})},650:function(e,t,a){\"use strict\";a.r(t),a(55),a(220),a(210),a(257),a(125);var i=a(0),o=a(4),r=(a(160),a(127),a(121),a(14)),n=a(13);let s=0;customElements.define(\"ha-config-flow\",class extends(Object(n.a)(Object(r.a)(o.a))){static get template(){return i[\"a\"]`\n    <style include=\"ha-style-dialog\">\n      .error {\n        color: red;\n      }\n      paper-dialog {\n        max-width: 500px;\n      }\n      ha-markdown img:first-child:last-child {\n        display: block;\n        margin: 0 auto;\n      }\n      .init-spinner {\n        padding: 10px 100px 34px;\n        text-align: center;\n      }\n      .submit-spinner {\n        margin-right: 16px;\n      }\n    </style>\n    <paper-dialog id=\"dialog\" with-backdrop=\"\" opened=\"{{_opened}}\" on-opened-changed=\"_openedChanged\">\n      <h2>\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'abort')]]\">\n          Aborted\n        </template>\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'create_entry')]]\">\n          Success!\n        </template>\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'form')]]\">\n          [[_computeStepTitle(localize, _step)]]\n        </template>\n      </h2>\n      <paper-dialog-scrollable>\n        <template is=\"dom-if\" if=\"[[_errorMsg]]\">\n          <div class='error'>[[_errorMsg]]</div>\n        </template>\n        <template is=\"dom-if\" if=\"[[!_step]]\">\n          <div class='init-spinner'><paper-spinner active></paper-spinner></div>\n        </template>\n        <template is=\"dom-if\" if=\"[[_step]]\">\n          <template is=\"dom-if\" if=\"[[_equals(_step.type, 'abort')]]\">\n            <ha-markdown content=\"[[_computeStepAbortedReason(localize, _step)]]\"></ha-markdown>\n          </template>\n\n          <template is=\"dom-if\" if=\"[[_equals(_step.type, 'create_entry')]]\">\n            <p>Created config for [[_step.title]]</p>\n          </template>\n\n          <template is=\"dom-if\" if=\"[[_equals(_step.type, 'form')]]\">\n            <template is=\"dom-if\" if=\"[[_computeStepDescription(localize, _step)]]\">\n              <ha-markdown content=\"[[_computeStepDescription(localize, _step)]]\" allow-svg></ha-markdown>\n            </template>\n\n            <ha-form\n              data=\"{{_stepData}}\"\n              on-data-changed='_increaseCounter'\n              schema=\"[[_step.data_schema]]\"\n              error=\"[[_step.errors]]\"\n              compute-label=\"[[_computeLabelCallback(localize, _step)]]\"\n              compute-error=\"[[_computeErrorCallback(localize, _step)]]\"\n            ></ha-form>\n          </template>\n        </template>\n      </paper-dialog-scrollable>\n      <div class=\"buttons\">\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'abort')]]\">\n          <paper-button on-click=\"_flowDone\">Close</paper-button>\n        </template>\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'create_entry')]]\">\n          <paper-button on-click=\"_flowDone\">Close</paper-button>\n        </template>\n        <template is=\"dom-if\" if=\"[[_equals(_step.type, 'form')]]\">\n          <template is=\"dom-if\" if=\"[[_loading]]\">\n            <div class='submit-spinner'><paper-spinner active></paper-spinner></div>\n          </template>\n          <template is=\"dom-if\" if=\"[[!_loading]]\">\n            <div>\n              <paper-button\n                on-click=\"_submitStep\"\n                disabled='[[!_canSubmit]]'\n              >Submit</paper-button>\n              <template is='dom-if' if='[[!_canSubmit]]'>\n                <paper-tooltip position=\"left\">\n                  Not all required fields are filled in.\n                </paper-tooltip>\n              </template>\n            </div>\n          </template>\n        </template>\n      </div>\n    </paper-dialog>\n`}static get properties(){return{_hass:Object,_dialogClosedCallback:Function,_instance:Number,_loading:{type:Boolean,value:!1},_errorMsg:String,_canSubmit:{type:Boolean,computed:\"_computeCanSubmit(_step, _stepData, _counter)\"},_counter:{type:Number,value:0},_opened:{type:Boolean,value:!1},_step:{type:Object,value:null},_stepData:{type:Object,value:null}}}ready(){super.ready(),this.addEventListener(\"keypress\",e=>{13===e.keyCode&&this._submitStep()})}showDialog({hass:e,continueFlowId:t,newFlowForHandler:a,dialogClosedCallback:i}){this.hass=e,this._instance=s++,this._dialogClosedCallback=i,this._createdFromHandler=!!a,this._loading=!0,this._opened=!0;const o=t?this.hass.callApi(\"get\",`config/config_entries/flow/${t}`):this.hass.callApi(\"post\",\"config/config_entries/flow\",{handler:a}),r=this._instance;o.then(e=>{r===this._instance&&(this._processStep(e),this._loading=!1,setTimeout(()=>this.$.dialog.center(),0))})}_submitStep(){this._loading=!0,this._errorMsg=null;const e=this._instance,t={};Object.keys(this._stepData).forEach(e=>{const a=this._stepData[e];[void 0,\"\"].includes(a)||(t[e]=a)}),this.hass.callApi(\"post\",`config/config_entries/flow/${this._step.flow_id}`,t).then(t=>{e===this._instance&&(this._processStep(t),this._loading=!1)},e=>{this._errorMsg=e&&e.body&&e.body.message||\"Unknown error occurred\",this._loading=!1})}_processStep(e){if(e.errors||(e.errors={}),this._step=e,\"form\"===e.type&&0===Object.keys(e.errors).length){const t={};e.data_schema.forEach(e=>{\"default\"in e&&(t[e.name]=e.default)}),this._stepData=t}}_flowDone(){this._opened=!1;const e=this._step&&[\"success\",\"abort\"].includes(this._step.type);this._step&&!e&&this._createdFromHandler&&this.hass.callApi(\"delete\",`config/config_entries/flow/${this._step.flow_id}`),this._dialogClosedCallback({flowFinished:e}),this._errorMsg=null,this._step=null,this._stepData={},this._dialogClosedCallback=null}_equals(e,t){return e===t}_openedChanged(e){this._step&&!e.detail.value&&this._flowDone()}_computeStepAbortedReason(e,t){return e(`component.${t.handler}.config.abort.${t.reason}`)}_computeStepTitle(e,t){return e(`component.${t.handler}.config.step.${t.step_id}.title`)}_computeStepDescription(e,t){const a=[`component.${t.handler}.config.step.${t.step_id}.description`],i=t.description_placeholders||{};return Object.keys(i).forEach(e=>{a.push(e),a.push(i[e])}),e(...a)}_computeLabelCallback(e,t){return a=>e(`component.${t.handler}.config.step.${t.step_id}.data.${a.name}`)}_computeErrorCallback(e,t){return a=>e(`component.${t.handler}.config.error.${a}`)}_computeCanSubmit(e,t){return null!==e&&\"form\"===e.type&&null!==t&&e.data_schema.every(e=>e.optional||![\"\",void 0].includes(t[e.name]))}_increaseCounter(){this._counter+=1}})}}]);"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourceRoot":""}