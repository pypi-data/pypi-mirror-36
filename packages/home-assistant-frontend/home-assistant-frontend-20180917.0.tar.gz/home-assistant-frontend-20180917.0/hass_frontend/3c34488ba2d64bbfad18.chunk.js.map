{"version":3,"sources":["webpack:///./node_modules/@polymer/paper-item/paper-item-body.js","webpack:///./src/panels/config/ha-config-section.js","webpack:///./src/layouts/hass-subpage.js","webpack:///./node_modules/@polymer/paper-tooltip/paper-tooltip.js","webpack:///./src/components/entity/ha-state-icon.js","webpack:///./src/panels/config/config-entries/ha-config-entries.js"],"names":["_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_5__","__webpack_require__","Object","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_4__","a","_template","is","203","module","__webpack_exports__","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_0__","_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_1__","customElements","define","template","properties","hass","type","narrow","Boolean","showMenu","value","isWide","computeContentClasses","classes","computeClasses","207","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_4__","_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_5__","header","String","_backTapped","history","back","_polymer_polymer_lib_utils_html_tag_js__WEBPACK_IMPORTED_MODULE_3__","_polymer_polymer_lib_legacy_polymer_fn_js__WEBPACK_IMPORTED_MODULE_1__","hostAttributes","role","tabindex","for","observer","manualMode","position","fitToVisibleBounds","offset","Number","marginTop","animationDelay","animationEntry","animationExit","animationConfig","entry","name","node","this","timing","delay","exit","_showing","listeners","webkitAnimationEnd","target","parentNode","_polymer_polymer_lib_legacy_polymer_dom_js__WEBPACK_IMPORTED_MODULE_2__","b","ownerRoot","getOwnerRoot","querySelector","nodeType","Node","DOCUMENT_FRAGMENT_NODE","host","attached","_findTarget","detached","_removeListeners","playAnimation","show","hide","cancelAnimation","$","tooltip","classList","add","textContent","trim","allChildrenEmpty","effectiveChildren","getEffectiveChildNodes","i","length","remove","_getAnimationType","updatePosition","_animationPlaying","_cancelAnimation","_onAnimationFinish","_target","offsetParent","tooltipLeft","tooltipTop","parentRect","getBoundingClientRect","targetRect","thisRect","horizontalCenterOffset","width","verticalCenterOffset","height","targetLeft","left","targetTop","top","window","innerWidth","style","right","Math","max","innerHeight","bottom","_addListeners","listen","_delayChange","newValue","updateStyles","--paper-tooltip-delay-in","_manualModeChanged","_onAnimationEnd","timingDelay","--paper-tooltip-delay-out","unlisten","390","r","html_tag","polymer_element","debounce","utils_async","state_icon","stateObj","computeIcon","registeredDialog","localize_mixin","events_mixin","_entries","Array","_entities","_progress","_handlers","ready","super","_loadData","connectedCallback","fire","dialogShowEvent","dialogTag","dialogImport","e","then","bind","connection","subscribeEvents","_debouncer","timeOut","after","unsub","_unsubEvents","disconnectedCallback","_createFlow","ev","newFlowForHandler","model","item","dialogClosedCallback","_continueFlow","continueFlowId","flow_id","_removeEntry","confirm","entryId","entry_id","callApi","result","filter","require_restart","alert","entries","progress","handlers","callWS","entities","_computeIntegrationTitle","localize","integration","_computeConfigEntryEntities","configEntry","states","forEach","entity","config_entry_id","entity_id","push","_computeStateName","compute_state_name","_handleMoreInfo","entityId"],"mappings":"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","file":"3c34488ba2d64bbfad18.chunk.js","sourcesContent":["/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\nUse `<paper-item-body>` in a `<paper-item>` or `<paper-icon-item>` to make two- or\nthree- line items. It is a flex item that is a vertical flexbox.\n\n    <paper-item>\n      <paper-item-body two-line>\n        <div>Show your status</div>\n        <div secondary>Your status is visible to everyone</div>\n      </paper-item-body>\n    </paper-item>\n\nThe child elements with the `secondary` attribute is given secondary text styling.\n\n### Styling\n\nThe following custom properties and mixins are available for styling:\n\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-item-body-two-line-min-height`   | Minimum height of a two-line item          | `72px`\n`--paper-item-body-three-line-min-height` | Minimum height of a three-line item        | `88px`\n`--paper-item-body-secondary-color`       | Foreground color for the `secondary` area  | `--secondary-text-color`\n`--paper-item-body-secondary`             | Mixin applied to the `secondary` area      | `{}`\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport '@polymer/iron-flex-layout/iron-flex-layout.js';\nimport '@polymer/paper-styles/default-theme.js';\nimport '@polymer/paper-styles/typography.js';\nimport { Polymer } from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        overflow: hidden; /* needed for text-overflow: ellipsis to work on ff */\n        @apply --layout-vertical;\n        @apply --layout-center-justified;\n        @apply --layout-flex;\n      }\n\n      :host([two-line]) {\n        min-height: var(--paper-item-body-two-line-min-height, 72px);\n      }\n\n      :host([three-line]) {\n        min-height: var(--paper-item-body-three-line-min-height, 88px);\n      }\n\n      :host > ::slotted(*) {\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      }\n\n      :host > ::slotted([secondary]) {\n        @apply --paper-font-body1;\n\n        color: var(--paper-item-body-secondary-color, var(--secondary-text-color));\n\n        @apply --paper-item-body-secondary;\n      }\n    </style>\n\n    <slot></slot>\n`,\n\n  is: 'paper-item-body'\n});\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../../resources/ha-style.js';\n\nclass HaConfigSection extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"iron-flex ha-style\">\n      .content {\n        padding: 28px 20px 0;\n        max-width: 1040px;\n        margin: 0 auto;\n      }\n\n      .header {\n        @apply --paper-font-display1;\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .together {\n        margin-top: 32px;\n      }\n\n      .intro {\n        @apply --paper-font-subhead;\n        width: 100%;\n        max-width: 400px;\n        margin-right: 40px;\n        opacity: var(--dark-primary-opacity);\n      }\n\n      .panel {\n        margin-top: -24px;\n      }\n\n      .panel ::slotted(*) {\n        margin-top: 24px;\n        display: block;\n      }\n\n      .narrow.content {\n        max-width: 640px;\n      }\n      .narrow .together {\n        margin-top: 20px;\n      }\n      .narrow .header {\n        @apply --paper-font-headline;\n      }\n      .narrow .intro {\n        font-size: 14px;\n        padding-bottom: 20px;\n        margin-right: 0;\n        max-width: 500px;\n      }\n    </style>\n    <div class$=\"[[computeContentClasses(isWide)]]\">\n      <div class=\"header\"><slot name=\"header\"></slot></div>\n      <div class$=\"[[computeClasses(isWide)]]\">\n        <div class=\"intro\">\n          <slot name=\"introduction\"></slot>\n        </div>\n        <div class=\"panel flex-auto\">\n          <slot></slot>\n        </div>\n      </div>\n    </div>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: {\n        type: Object,\n      },\n\n      narrow: {\n        type: Boolean,\n      },\n\n      showMenu: {\n        type: Boolean,\n        value: false,\n      },\n\n      isWide: {\n        type: Boolean,\n        value: false,\n      },\n    };\n  }\n\n  computeContentClasses(isWide) {\n    var classes = 'content ';\n\n    return isWide ? classes : classes + 'narrow';\n  }\n\n  computeClasses(isWide) {\n    var classes = 'together layout ';\n\n    return classes + (isWide ? 'horizontal' : 'vertical narrow');\n  }\n}\n\ncustomElements.define('ha-config-section', HaConfigSection);\n","import '@polymer/app-layout/app-header-layout/app-header-layout.js';\nimport '@polymer/app-layout/app-header/app-header.js';\nimport '@polymer/app-layout/app-toolbar/app-toolbar.js';\nimport '@polymer/paper-icon-button/paper-icon-button.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nclass HassSubpage extends PolymerElement {\n  static get template() {\n    return html`\n    <style include=\"ha-style\"></style>\n    <app-header-layout has-scrolling-region=\"\">\n      <app-header slot=\"header\" fixed=\"\">\n        <app-toolbar>\n          <paper-icon-button icon=\"hass:arrow-left\" on-click=\"_backTapped\"></paper-icon-button>\n          <div main-title=\"\">[[header]]</div>\n        </app-toolbar>\n      </app-header>\n\n      <slot></slot>\n    </app-header-layout>\n`;\n  }\n\n  static get properties() {\n    return {\n      header: String\n    };\n  }\n\n  _backTapped() {\n    history.back();\n  }\n}\n\ncustomElements.define('hass-subpage', HassSubpage);\n","/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at\nhttp://polymer.github.io/LICENSE.txt The complete set of authors may be found at\nhttp://polymer.github.io/AUTHORS.txt The complete set of contributors may be\nfound at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as\npart of the polymer project is also subject to an additional IP rights grant\nfound at http://polymer.github.io/PATENTS.txt\n*/\nimport '@polymer/polymer/polymer-legacy.js';\n\nimport {Polymer} from '@polymer/polymer/lib/legacy/polymer-fn.js';\nimport {dom} from '@polymer/polymer/lib/legacy/polymer.dom.js';\nimport {html} from '@polymer/polymer/lib/utils/html-tag.js';\n\n/**\nMaterial design:\n[Tooltips](https://www.google.com/design/spec/components/tooltips.html)\n`<paper-tooltip>` is a label that appears on hover and focus when the user\nhovers over an element with the cursor or with the keyboard. It will be centered\nto an anchor element specified in the `for` attribute, or, if that doesn't\nexist, centered to the parent node containing it.\nExample:\n    <div style=\"display:inline-block\">\n      <button>Click me!</button>\n      <paper-tooltip>Tooltip text</paper-tooltip>\n    </div>\n    <div>\n      <button id=\"btn\">Click me!</button>\n      <paper-tooltip for=\"btn\">Tooltip text</paper-tooltip>\n    </div>\nThe tooltip can be positioned on the top|bottom|left|right of the anchor using\nthe `position` attribute. The default position is bottom.\n    <paper-tooltip for=\"btn\" position=\"left\">Tooltip text</paper-tooltip>\n    <paper-tooltip for=\"btn\" position=\"top\">Tooltip text</paper-tooltip>\n\n### Styling\nThe following custom properties and mixins are available for styling:\nCustom property | Description | Default\n----------------|-------------|----------\n`--paper-tooltip-background` | The background color of the tooltip | `#616161`\n`--paper-tooltip-opacity` | The opacity of the tooltip | `0.9`\n`--paper-tooltip-text-color` | The text color of the tooltip | `white`\n`--paper-tooltip` | Mixin applied to the tooltip | `{}`\n`--paper-tooltip-delay-in` | Delay before tooltip starts to fade in | `500`\n`--paper-tooltip-delay-out` | Delay before tooltip starts to fade out | `0`\n`--paper-tooltip-duration-in` | Timing for animation when showing tooltip | `500`\n`--paper-tooltip-duration-out` | Timing for animation when hiding tooltip | `0`\n`--paper-tooltip-animation` | Mixin applied to the tooltip animation | `{}`\n@group Paper Elements\n@element paper-tooltip\n@demo demo/index.html\n*/\nPolymer({\n  _template: html`\n    <style>\n      :host {\n        display: block;\n        position: absolute;\n        outline: none;\n        z-index: 1002;\n        -moz-user-select: none;\n        -ms-user-select: none;\n        -webkit-user-select: none;\n        user-select: none;\n        cursor: default;\n      }\n\n      #tooltip {\n        display: block;\n        outline: none;\n        @apply --paper-font-common-base;\n        font-size: 10px;\n        line-height: 1;\n        background-color: var(--paper-tooltip-background, #616161);\n        color: var(--paper-tooltip-text-color, white);\n        padding: 8px;\n        border-radius: 2px;\n        @apply --paper-tooltip;\n      }\n\n      @keyframes keyFrameScaleUp {\n        0% {\n          transform: scale(0.0);\n        }\n        100% {\n          transform: scale(1.0);\n        }\n      }\n\n      @keyframes keyFrameScaleDown {\n        0% {\n          transform: scale(1.0);\n        }\n        100% {\n          transform: scale(0.0);\n        }\n      }\n\n      @keyframes keyFrameFadeInOpacity {\n        0% {\n          opacity: 0;\n        }\n        100% {\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n      }\n\n      @keyframes keyFrameFadeOutOpacity {\n        0% {\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n\n      @keyframes keyFrameSlideDownIn {\n        0% {\n          transform: translateY(-2000px);\n          opacity: 0;\n        }\n        10% {\n          opacity: 0.2;\n        }\n        100% {\n          transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n      }\n\n      @keyframes keyFrameSlideDownOut {\n        0% {\n          transform: translateY(0);\n          opacity: var(--paper-tooltip-opacity, 0.9);\n        }\n        10% {\n          opacity: 0.2;\n        }\n        100% {\n          transform: translateY(-2000px);\n          opacity: 0;\n        }\n      }\n\n      .fade-in-animation {\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameFadeInOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .fade-out-animation {\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 0ms);\n        animation-name: keyFrameFadeOutOpacity;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .scale-up-animation {\n        transform: scale(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-in, 500ms);\n        animation-name: keyFrameScaleUp;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-in, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .scale-down-animation {\n        transform: scale(1);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameScaleDown;\n        animation-iteration-count: 1;\n        animation-timing-function: ease-in;\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .slide-down-animation {\n        transform: translateY(-2000px);\n        opacity: 0;\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownIn;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .slide-down-animation-out {\n        transform: translateY(0);\n        opacity: var(--paper-tooltip-opacity, 0.9);\n        animation-delay: var(--paper-tooltip-delay-out, 500ms);\n        animation-name: keyFrameSlideDownOut;\n        animation-iteration-count: 1;\n        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);\n        animation-duration: var(--paper-tooltip-duration-out, 500ms);\n        animation-fill-mode: forwards;\n        @apply --paper-tooltip-animation;\n      }\n\n      .cancel-animation {\n        animation-delay: -30s !important;\n      }\n\n      /* Thanks IE 10. */\n\n      .hidden {\n        display: none !important;\n      }\n    </style>\n\n    <div id=\"tooltip\" class=\"hidden\">\n      <slot></slot>\n    </div>\n`,\n\n  is: 'paper-tooltip',\n  hostAttributes: {role: 'tooltip', tabindex: -1},\n\n  properties: {\n    /**\n     * The id of the element that the tooltip is anchored to. This element\n     * must be a sibling of the tooltip. If this property is not set,\n     * then the tooltip will be centered to the parent node containing it.\n     */\n    for: {type: String, observer: '_findTarget'},\n    /**\n     * Set this to true if you want to manually control when the tooltip\n     * is shown or hidden.\n     */\n    manualMode: {type: Boolean, value: false, observer: '_manualModeChanged'},\n    /**\n     * Positions the tooltip to the top, right, bottom, left of its content.\n     */\n    position: {type: String, value: 'bottom'},\n    /**\n     * If true, no parts of the tooltip will ever be shown offscreen.\n     */\n    fitToVisibleBounds: {type: Boolean, value: false},\n    /**\n     * The spacing between the top of the tooltip and the element it is\n     * anchored to.\n     */\n    offset: {type: Number, value: 14},\n    /**\n     * This property is deprecated, but left over so that it doesn't\n     * break exiting code. Please use `offset` instead. If both `offset` and\n     * `marginTop` are provided, `marginTop` will be ignored.\n     * @deprecated since version 1.0.3\n     */\n    marginTop: {type: Number, value: 14},\n    /**\n     * The delay that will be applied before the `entry` animation is\n     * played when showing the tooltip.\n     */\n    animationDelay: {type: Number, value: 500, observer: '_delayChange'},\n    /**\n     * The animation that will be played on entry.  This replaces the\n     * deprecated animationConfig.  Entries here will override the\n     * animationConfig settings.  You can enter your own animation\n     * by setting it to the css class name.\n     */\n    animationEntry: {type: String, value: ''},\n    /**\n     * The animation that will be played on exit.  This replaces the\n     * deprecated animationConfig.  Entries here will override the\n     * animationConfig settings.  You can enter your own animation\n     * by setting it to the css class name.\n     */\n    animationExit: {type: String, value: ''},\n    /**\n     * This property is deprecated.  Use --paper-tooltip-animation to change the\n     * animation. The entry and exit animations that will be played when showing\n     * and hiding the tooltip. If you want to override this, you must ensure\n     * that your animationConfig has the exact format below.\n     * @deprecated since version\n     *\n     * The entry and exit animations that will be played when showing and\n     * hiding the tooltip. If you want to override this, you must ensure\n     * that your animationConfig has the exact format below.\n     */\n    animationConfig: {\n      type: Object,\n      value: function() {\n        return {\n          'entry':\n              [{name: 'fade-in-animation', node: this, timing: {delay: 0}}],\n              'exit': [{name: 'fade-out-animation', node: this}]\n        }\n      }\n    },\n    _showing: {type: Boolean, value: false}\n  },\n\n  listeners: {\n    'webkitAnimationEnd': '_onAnimationEnd',\n  },\n\n  /**\n   * Returns the target element that this tooltip is anchored to. It is\n   * either the element given by the `for` attribute, or the immediate parent\n   * of the tooltip.\n   *\n   * @type {Node}\n   */\n  get target() {\n    var parentNode = dom(this).parentNode;\n    // If the parentNode is a document fragment, then we need to use the host.\n    var ownerRoot = dom(this).getOwnerRoot();\n    var target;\n    if (this.for) {\n      target = dom(ownerRoot).querySelector('#' + this.for);\n    } else {\n      target = parentNode.nodeType == Node.DOCUMENT_FRAGMENT_NODE ?\n          ownerRoot.host :\n          parentNode;\n    }\n    return target;\n  },\n\n  /**\n   * @return {void}\n   */\n  attached: function() {\n    this._findTarget();\n  },\n\n  /**\n   * @return {void}\n   */\n  detached: function() {\n    if (!this.manualMode)\n      this._removeListeners();\n  },\n\n  /**\n   * Replaces Neon-Animation playAnimation - just calls show and hide.\n   * @deprecated Use show and hide instead.\n   * @param {string} type Either `entry` or `exit`\n   */\n  playAnimation: function(type) {\n    if (type === 'entry') {\n      this.show();\n    } else if (type === 'exit') {\n      this.hide();\n    }\n  },\n\n  /**\n   * Cancels the animation and either fully shows or fully hides tooltip\n   */\n  cancelAnimation: function() {\n    // Short-cut and cancel all animations and hide\n    this.$.tooltip.classList.add('cancel-animation');\n  },\n\n  /**\n   * Shows the tooltip programatically\n   * @return {void}\n   */\n  show: function() {\n    // If the tooltip is already showing, there's nothing to do.\n    if (this._showing)\n      return;\n\n    if (dom(this).textContent.trim() === '') {\n      // Check if effective children are also empty\n      var allChildrenEmpty = true;\n      var effectiveChildren = dom(this).getEffectiveChildNodes();\n      for (var i = 0; i < effectiveChildren.length; i++) {\n        if (effectiveChildren[i].textContent.trim() !== '') {\n          allChildrenEmpty = false;\n          break;\n        }\n      }\n      if (allChildrenEmpty) {\n        return;\n      }\n    }\n\n    this._showing = true;\n    this.$.tooltip.classList.remove('hidden');\n    this.$.tooltip.classList.remove('cancel-animation');\n    this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n    this.updatePosition();\n    this._animationPlaying = true;\n    this.$.tooltip.classList.add(this._getAnimationType('entry'));\n  },\n\n  /**\n   * Hides the tooltip programatically\n   * @return {void}\n   */\n  hide: function() {\n    // If the tooltip is already hidden, there's nothing to do.\n    if (!this._showing) {\n      return;\n    }\n\n    // If the entry animation is still playing, don't try to play the exit\n    // animation since this will reset the opacity to 1. Just end the animation.\n    if (this._animationPlaying) {\n      this._showing = false;\n      this._cancelAnimation();\n      return;\n    } else {\n      // Play Exit Animation\n      this._onAnimationFinish();\n    }\n\n    this._showing = false;\n    this._animationPlaying = true;\n  },\n\n  /**\n   * @return {void}\n   */\n  updatePosition: function() {\n    if (!this._target || !this.offsetParent)\n      return;\n    var offset = this.offset;\n    // If a marginTop has been provided by the user (pre 1.0.3), use it.\n    if (this.marginTop != 14 && this.offset == 14)\n      offset = this.marginTop;\n    var parentRect = this.offsetParent.getBoundingClientRect();\n    var targetRect = this._target.getBoundingClientRect();\n    var thisRect = this.getBoundingClientRect();\n    var horizontalCenterOffset = (targetRect.width - thisRect.width) / 2;\n    var verticalCenterOffset = (targetRect.height - thisRect.height) / 2;\n    var targetLeft = targetRect.left - parentRect.left;\n    var targetTop = targetRect.top - parentRect.top;\n    var tooltipLeft, tooltipTop;\n    switch (this.position) {\n      case 'top':\n        tooltipLeft = targetLeft + horizontalCenterOffset;\n        tooltipTop = targetTop - thisRect.height - offset;\n        break;\n      case 'bottom':\n        tooltipLeft = targetLeft + horizontalCenterOffset;\n        tooltipTop = targetTop + targetRect.height + offset;\n        break;\n      case 'left':\n        tooltipLeft = targetLeft - thisRect.width - offset;\n        tooltipTop = targetTop + verticalCenterOffset;\n        break;\n      case 'right':\n        tooltipLeft = targetLeft + targetRect.width + offset;\n        tooltipTop = targetTop + verticalCenterOffset;\n        break;\n    }\n    // TODO(noms): This should use IronFitBehavior if possible.\n    if (this.fitToVisibleBounds) {\n      // Clip the left/right side\n      if (parentRect.left + tooltipLeft + thisRect.width > window.innerWidth) {\n        this.style.right = '0px';\n        this.style.left = 'auto';\n      } else {\n        this.style.left = Math.max(0, tooltipLeft) + 'px';\n        this.style.right = 'auto';\n      }\n      // Clip the top/bottom side.\n      if (parentRect.top + tooltipTop + thisRect.height > window.innerHeight) {\n        this.style.bottom = (parentRect.height - targetTop + offset) + 'px';\n        this.style.top = 'auto';\n      } else {\n        this.style.top = Math.max(-parentRect.top, tooltipTop) + 'px';\n        this.style.bottom = 'auto';\n      }\n    } else {\n      this.style.left = tooltipLeft + 'px';\n      this.style.top = tooltipTop + 'px';\n    }\n  },\n\n  _addListeners: function() {\n    if (this._target) {\n      this.listen(this._target, 'mouseenter', 'show');\n      this.listen(this._target, 'focus', 'show');\n      this.listen(this._target, 'mouseleave', 'hide');\n      this.listen(this._target, 'blur', 'hide');\n      this.listen(this._target, 'tap', 'hide');\n    }\n    this.listen(this.$.tooltip, 'animationend', '_onAnimationEnd');\n    this.listen(this, 'mouseenter', 'hide');\n  },\n\n  _findTarget: function() {\n    if (!this.manualMode)\n      this._removeListeners();\n    this._target = this.target;\n    if (!this.manualMode)\n      this._addListeners();\n  },\n\n  _delayChange: function(newValue) {\n    // Only Update delay if different value set\n    if (newValue !== 500) {\n      this.updateStyles({'--paper-tooltip-delay-in': newValue + 'ms'});\n    }\n  },\n\n  _manualModeChanged: function() {\n    if (this.manualMode)\n      this._removeListeners();\n    else\n      this._addListeners();\n  },\n\n  _cancelAnimation: function() {\n    // Short-cut and cancel all animations and hide\n    this.$.tooltip.classList.remove(this._getAnimationType('entry'));\n    this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n    this.$.tooltip.classList.remove('cancel-animation');\n    this.$.tooltip.classList.add('hidden');\n  },\n\n  _onAnimationFinish: function() {\n    if (this._showing) {\n      this.$.tooltip.classList.remove(this._getAnimationType('entry'));\n      this.$.tooltip.classList.remove('cancel-animation');\n      this.$.tooltip.classList.add(this._getAnimationType('exit'));\n    }\n  },\n\n  _onAnimationEnd: function() {\n    // If no longer showing add class hidden to completely hide tooltip\n    this._animationPlaying = false;\n    if (!this._showing) {\n      this.$.tooltip.classList.remove(this._getAnimationType('exit'));\n      this.$.tooltip.classList.add('hidden');\n    }\n  },\n\n  _getAnimationType: function(type) {\n    // These properties have priority over animationConfig values\n    if ((type === 'entry') && (this.animationEntry !== '')) {\n      return this.animationEntry;\n    }\n    if ((type === 'exit') && (this.animationExit !== '')) {\n      return this.animationExit;\n    }\n    // If no results then return the legacy value from animationConfig\n    if (this.animationConfig[type] &&\n        typeof this.animationConfig[type][0].name === 'string') {\n      // Checking Timing and Update if necessary - Legacy for animationConfig\n      if (this.animationConfig[type][0].timing &&\n          this.animationConfig[type][0].timing.delay &&\n          this.animationConfig[type][0].timing.delay !== 0) {\n        var timingDelay = this.animationConfig[type][0].timing.delay;\n        // Has Timing Change - Update CSS\n        if (type === 'entry') {\n          this.updateStyles({'--paper-tooltip-delay-in': timingDelay + 'ms'});\n        } else if (type === 'exit') {\n          this.updateStyles({'--paper-tooltip-delay-out': timingDelay + 'ms'});\n        }\n      }\n      return this.animationConfig[type][0].name;\n    }\n  },\n\n  _removeListeners: function() {\n    if (this._target) {\n      this.unlisten(this._target, 'mouseenter', 'show');\n      this.unlisten(this._target, 'focus', 'show');\n      this.unlisten(this._target, 'mouseleave', 'hide');\n      this.unlisten(this._target, 'blur', 'hide');\n      this.unlisten(this._target, 'tap', 'hide');\n    }\n    this.unlisten(this.$.tooltip, 'animationend', '_onAnimationEnd');\n    this.unlisten(this, 'mouseenter', 'hide');\n  }\n});\n","import { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\n\nimport '../ha-icon.js';\nimport stateIcon from '../../common/entity/state_icon.js';\n\nclass HaStateIcon extends PolymerElement {\n  static get template() {\n    return html`<ha-icon icon=\"[[computeIcon(stateObj)]]\"></ha-icon>`;\n  }\n\n  static get properties() {\n    return {\n      stateObj: {\n        type: Object,\n      },\n    };\n  }\n\n  computeIcon(stateObj) {\n    return stateIcon(stateObj);\n  }\n}\n\ncustomElements.define('ha-state-icon', HaStateIcon);\n","import '@polymer/iron-flex-layout/iron-flex-layout-classes.js';\nimport '@polymer/paper-tooltip/paper-tooltip.js';\nimport '@polymer/paper-button/paper-button.js';\nimport '@polymer/paper-card/paper-card.js';\nimport '@polymer/paper-item/paper-item-body.js';\nimport { html } from '@polymer/polymer/lib/utils/html-tag.js';\nimport { PolymerElement } from '@polymer/polymer/polymer-element.js';\nimport { Debouncer } from '@polymer/polymer/lib/utils/debounce.js';\nimport { timeOut } from '@polymer/polymer/lib/utils/async.js';\n\nimport '../../../components/entity/ha-state-icon.js';\nimport '../../../layouts/hass-subpage.js';\nimport '../../../resources/ha-style.js';\n\nimport '../ha-config-section.js';\nimport EventsMixin from '../../../mixins/events-mixin.js';\nimport LocalizeMixin from '../../../mixins/localize-mixin.js';\nimport computeStateName from '../../../common/entity/compute_state_name.js';\n\nlet registeredDialog = false;\n\n/*\n * @appliesMixin LocalizeMixin\n * @appliesMixin EventsMixin\n */\nclass HaConfigManager extends\n  LocalizeMixin(EventsMixin(PolymerElement)) {\n  static get template() {\n    return html`\n  <style include=\"iron-flex ha-style\">\n    paper-button {\n      color: var(--primary-color);\n      font-weight: 500;\n      top: 3px;\n      margin-right: -.57em;\n    }\n    paper-card:last-child {\n      margin-top: 12px;\n    }\n    .config-entry-row {\n      display: flex;\n      padding: 0 16px;\n    }\n    ha-state-icon {\n      cursor: pointer;\n    }\n  </style>\n\n  <hass-subpage header=\"Integrations\">\n    <template is=\"dom-if\" if=\"[[_progress.length]]\">\n      <ha-config-section>\n        <span slot=\"header\">Discovered</span>\n        <paper-card>\n          <template is=\"dom-repeat\" items=\"[[_progress]]\">\n            <div class=\"config-entry-row\">\n              <paper-item-body>\n                [[_computeIntegrationTitle(localize, item.handler)]]\n              </paper-item-body>\n              <paper-button on-click=\"_continueFlow\">Configure</paper-button>\n            </div>\n          </template>\n        </paper-card>\n      </ha-config-section>\n    </template>\n\n    <ha-config-section>\n      <span slot=\"header\">Configured</span>\n      <paper-card>\n        <template is=\"dom-if\" if=\"[[!_entries.length]]\">\n          <div class=\"config-entry-row\">\n            <paper-item-body two-line>\n              <div>Nothing configured yet</div>\n            </paper-item-body>\n          </div>\n        </template>\n        <template is=\"dom-repeat\" items=\"[[_entries]]\">\n          <div class=\"config-entry-row\">\n            <paper-item-body three-line>\n              <div>[[_computeIntegrationTitle(localize, item.domain)]]: [[item.title]]</div>\n              <div secondary>[[item.state]] – added by [[item.source]]</div>\n              <div secondary>\n                <template is='dom-repeat' items='[[_computeConfigEntryEntities(hass, item, _entities)]]'>\n                  <span>\n                    <ha-state-icon state-obj='[[item]]' on-click='_handleMoreInfo'></ha-state-icon>\n                    <paper-tooltip position=\"bottom\">[[_computeStateName(item)]]</paper-tooltip>\n                  </span>\n                </template>\n              </div>\n            </paper-item-body>\n            <paper-button on-click=\"_removeEntry\">Remove</paper-button>\n          </div>\n        </template>\n      </paper-card>\n    </ha-config-section>\n\n    <ha-config-section>\n      <span slot=\"header\">Set up a new integration</span>\n      <paper-card>\n        <template is=\"dom-repeat\" items=\"[[_handlers]]\">\n          <div class=\"config-entry-row\">\n            <paper-item-body>\n              [[_computeIntegrationTitle(localize, item)]]\n            </paper-item-body>\n            <paper-button on-click=\"_createFlow\">Configure</paper-button>\n          </div>\n        </template>\n      </paper-card>\n    </ha-config-section>\n  </hass-subpage>\n`;\n  }\n\n  static get properties() {\n    return {\n      hass: Object,\n      isWide: Boolean,\n\n      /**\n       * Existing entries.\n       */\n      _entries: Array,\n\n      /**\n       * Entity Registry entries.\n       */\n      _entities: Array,\n\n      /**\n       * Current flows that are in progress and have not been started by a user.\n       * For example, can be discovered devices that require more config.\n       */\n      _progress: Array,\n\n      _handlers: Array,\n    };\n  }\n\n  ready() {\n    super.ready();\n    this._loadData();\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n\n    if (!registeredDialog) {\n      registeredDialog = true;\n      this.fire('register-dialog', {\n        dialogShowEvent: 'show-config-flow',\n        dialogTag: 'ha-config-flow',\n        dialogImport: () => import('./ha-config-flow.js'),\n      });\n    }\n\n    this.hass.connection.subscribeEvents(() => {\n      this._debouncer = Debouncer.debounce(\n        this._debouncer,\n        timeOut.after(500),\n        () => this._loadData()\n      );\n    }, 'config_entry_discovered').then((unsub) => { this._unsubEvents = unsub; });\n  }\n\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    if (this._unsubEvents) this._unsubEvents();\n  }\n\n  _createFlow(ev) {\n    this.fire('show-config-flow', {\n      hass: this.hass,\n      newFlowForHandler: ev.model.item,\n      dialogClosedCallback: () => this._loadData(),\n    });\n  }\n\n  _continueFlow(ev) {\n    this.fire('show-config-flow', {\n      hass: this.hass,\n      continueFlowId: ev.model.item.flow_id,\n      dialogClosedCallback: () => this._loadData(),\n    });\n  }\n\n  _removeEntry(ev) {\n    if (!confirm('Are you sure you want to delete this integration?')) return;\n\n    const entryId = ev.model.item.entry_id;\n\n    this.hass.callApi('delete', `config/config_entries/entry/${entryId}`)\n      .then((result) => {\n        this._entries = this._entries.filter(entry => entry.entry_id !== entryId);\n        if (result.require_restart) {\n          alert('Restart Home Assistant to finish removing this integration');\n        }\n      });\n  }\n\n  _loadData() {\n    this.hass.callApi('get', 'config/config_entries/entry')\n      .then((entries) => { this._entries = entries; });\n\n    this.hass.callApi('get', 'config/config_entries/flow')\n      .then((progress) => { this._progress = progress; });\n\n    this.hass.callApi('get', 'config/config_entries/flow_handlers')\n      .then((handlers) => { this._handlers = handlers; });\n\n    this.hass.callWS({ type: 'config/entity_registry/list' })\n      .then((entities) => { this._entities = entities; });\n  }\n\n  _computeIntegrationTitle(localize, integration) {\n    return localize(`component.${integration}.config.title`);\n  }\n\n  _computeConfigEntryEntities(hass, configEntry, entities) {\n    if (!entities) {\n      return [];\n    }\n    const states = [];\n    entities.forEach((entity) => {\n      if (entity.config_entry_id === configEntry.entry_id && entity.entity_id in hass.states) {\n        states.push(hass.states[entity.entity_id]);\n      }\n    });\n    return states;\n  }\n\n  _computeStateName(stateObj) {\n    return computeStateName(stateObj);\n  }\n\n  _handleMoreInfo(ev) {\n    this.fire('hass-more-info', { entityId: ev.model.item.entity_id });\n  }\n}\n\ncustomElements.define('ha-config-entries', HaConfigManager);\n"],"sourceRoot":""}