var MediaBrowser=function(e){function t(n){if(u[n])return u[n].exports;var r=u[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var u={};return t.m=e,t.c=u,t.p="",t(0)}([function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null===S&&(S=M.default.mount(document.getElementById("BrowserView"),{view:s.view,controller:d.default.partial(s.controller,e)}),S.navigateByHash(),S.reloadFolderTree(),j.disableIntraPageDragDrop())}function l(e){var t=e.target;N.open(t,(0,v.default)(S))}function a(e){var t=document.createElement("input");t.type="file",t.multiple=!0,t.style.display="none",t.addEventListener("change",function(e){p.enqueueMultiple(S.getUploadUrl(),e.target.files),p.addQueueCompletionCallback(function(){S.reloadFolderContentsSoon()}),p.processQueue()}),document.body.appendChild(t),e.addEventListener("click",function(e){t.click(),e.preventDefault()},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.init=o,t.openFolderContextMenu=l,t.setupUploadButton=a;var i=u(1),d=r(i),f=u(2),M=r(f),c=u(3),s=n(c),L=u(5),j=n(L),g=u(6),p=n(g),y=u(23),N=n(y),I=u(30),v=r(I),S=null},function(e,t){e.exports=window._},function(e,t){e.exports=window.m},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return(0,i.default)("div.container-fluid",[(0,i.default)("div.row",[(0,i.default)("div.col-md-3.page-inner-navigation.folder-tree",(0,c.default)(e)),(0,i.default)("div.col-md-9.page-content",(0,i.default)("div.content-block",[(0,i.default)("div.title",(0,L.default)(e)),(0,i.default)("div.content",(0,g.default)(e))]))])])}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this;t.currentFolderId=i.default.prop(null),t.currentFolderPath=i.default.prop([]),t.rootFolder=i.default.prop({}),t.folderData=i.default.prop({}),t.viewMode=i.default.prop("grid"),t.sortMode=i.default.prop("+name"),t.isMenuDisabled=function(t){return(e.disabledMenus||[]).indexOf(t)>=0},t.setFolder=function(e){e|=0,t.currentFolderId()!==e&&(t.currentFolderId(0|e),t._refreshCurrentFolderPath(),t.reloadFolderContents(),location.hash="#!id="+e)},t._refreshCurrentFolderPath=function(){var e=t.currentFolderId();null!==e&&t.currentFolderPath((0,y.default)(t.rootFolder(),e))},t.reloadFolderTree=function(){I.get({action:"folders"}).then(function(e){t.rootFolder(e.rootFolder),t._refreshCurrentFolderPath()})},t.reloadFolderContents=function(){var u=0|t.currentFolderId();I.get({action:"folder",id:u,filter:e.filter}).then(function(e){I.handleResponseMessages(e),t.folderData(e.folder||{})})},t.getUploadUrl=function(e){var u=window.location.pathname;return e=void 0===e?t.currentFolderId():e,u+"?action=upload&folder_id="+e},t.reloadFolderContentsSoon=f.default.debounce(t.reloadFolderContents,1e3),t.navigateByHash=function(){var e=/#!id=(\d+)/.exec(location.hash),u=e?e[1]:0;t.setFolder(u)},window.addEventListener("hashchange",function(){t.navigateByHash()},!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.view=o,t.controller=l;var a=u(2),i=r(a),d=u(1),f=r(d),M=u(4),c=r(M),s=u(11),L=r(s),j=u(12),g=r(j),p=u(29),y=r(p),N=u(7),I=n(N)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(n){if(void 0!==n.id){var o=r.indexOf(n.id)>-1,a=u===n.id,f=(0,l.default)("a",{href:"#",onclick:(0,s.default)(e,n)},[o?(0,l.default)("i.caret-icon.fa.fa-caret-down"):(0,l.default)("i.caret-icon.fa.fa-caret-right"),a?(0,l.default)("i.folder-icon.fa.fa-folder-open"):(0,l.default)("i.folder-icon.fa.fa-folder"),(0,l.default)("span.name",n.name)]),c=o?i.default.map(n.children,t):[];a&&c.push((0,l.default)("li.new-folder-item",{key:"new-folder"},(0,l.default)("a",{href:"#",onclick:i.default.bind(M.promptCreateFolder,null,e,n.id)},(0,l.default)("i.fa.fa-plus")," "+gettext("New folder"))));var L=(0,i.default)({current:a,"in-path":o,"has-children":n.children.length>0,"fd-zone":!0}).pick(i.default.identity).keys().join(" ");return(0,l.default)("li",{key:n.id,className:L,"data-folder-id":n.id,config:(0,d.dropzoneConfig)(e)},[f,c&&c.length?(0,l.default)("ul",c):null])}}var u=e.currentFolderId(),n=e.currentFolderPath(),r=i.default.pluck(n,"id");return(0,l.default)("ul",t(e.rootFolder()))};var o=u(2),l=r(o),a=u(1),i=r(a),d=u(5),f=u(9),M=n(f),c=u(10),s=r(c)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e){e=e||event,e.stopPropagation(),e.preventDefault()}function l(e){if(!e)throw new Error("ctrl required");return function(t,u){u||(t.addEventListener("dragover",function(e){var u=t.dataset.folderId;u&&(o(e),e.dataTransfer.dropEffect="copy",t.classList.add("over"),d.default.redraw.strategy("none"))},!1),t.addEventListener("dragenter",function(e){o(e),d.default.redraw.strategy("none")},!1),t.addEventListener("dragleave",function(e){o(e),t.classList.remove("over")},!1),t.addEventListener("drop",function(u){var n=t.dataset.folderId;o(u),t.classList.remove("over");var r=null;try{r=JSON.parse(u.dataTransfer.getData("text"))}catch(e){}if(null!==r){if(r.fileId)return void s.moveFile(e,r.fileId,n)}else{var l=u.dataTransfer.files;if(l.length>0)return M.enqueueMultiple(e.getUploadUrl(n),l),M.addQueueCompletionCallback(function(){e.reloadFolderContentsSoon()}),void M.processQueue()}alert("Sorry! You can only drop files here (from your computer or within the file manager).")}))}}function a(){document.addEventListener("dragstart",o,!1),document.addEventListener("dragover",function(e){e.dataTransfer.dropEffect="none",o(e)},!1),document.addEventListener("drop",o,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.supportsDnD=void 0,t.dropzoneConfig=l,t.disableIntraPageDragDrop=a;var i=u(2),d=r(i),f=u(6),M=n(f),c=u(8),s=n(c);t.supportsDnD=window.File&&window.FileList&&window.FormData},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){var e="empty";return p.length>=0&&(e=j.default.all(p,function(e){return"done"===e.status||"error"===e.status})?"done":"busy"),(0,s.default)("div.queue-view."+e,j.default.map(p,function(e){return(0,s.default)("div.queue-file."+e.status,[(0,s.default)("div.qf-name",e.name),(0,s.default)("div.qf-progress",{style:"width: "+(e.progress||0)+"%"})])}))}function o(){if(null===N){if(0===p.length)return;N=document.createElement("div"),N.id="queue-status-ctr",document.body.appendChild(N),s.default.mount(N,{view:r,controller:j.default.noop})}s.default.redraw()}function l(e,t,u){e.status>=400&&(u=!0),u?t.status="error":(t.status="done",t.progress=100),setTimeout(M,50);var n=null;try{var r=JSON.parse(e.responseText);r&&r.message&&(n=r.message)}catch(e){console.log(e)}if(window.Messages){u&&!n&&(n=gettext("Unexpected error while uploading files."));var o={error:u?gettext("Error:")+" "+t.name+": "+n:null,message:u?null:n||gettext("Uploaded:")+" "+t.name};(0,g.handleResponseMessages)(o)}}function a(e){if("new"!==e.status)return!1;e.progress=0,e.status="uploading";var t=new FormData;t.append("file",e.nativeFile);var u=new XMLHttpRequest;u.open("POST",e.url),u.setRequestHeader("X-CSRFToken",window.ShuupAdminConfig.csrf),u.onreadystatechange=function(){4===u.readyState&&(l(u,e,!1),I())},u.onerror=function(){l(u,e,!0),I()},u.upload.onprogress=function(t){t.lengthComputable?e.progress=t.loaded/t.total:e.progress=e.progress+(100-e.progress)/2,I()},u.send(t)}function i(e,t){p.push({url:e,name:t.name,nativeFile:t,status:"new",progress:0})}function d(e,t){j.default.each(t,function(t){i(e,t)})}function f(e){y.push(e)}function M(){if(!j.default.any(p,function(e){return"uploading"===e.status})){var e=j.default.detect(p,function(e){return"new"===e.status});if(I(),e)a(e);else for(;y.length;){var t=y.shift();t()}}}Object.defineProperty(t,"__esModule",{value:!0}),t.enqueue=i,t.enqueueMultiple=d,t.addQueueCompletionCallback=f,t.processQueue=M;var c=u(2),s=n(c),L=u(1),j=n(L),g=u(7),p=[],y=[],N=null,I=j.default.debounce(o,50)},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(e){return i.default.request({method:"POST",url:location.pathname,data:e,config:function(e){e.setRequestHeader("X-CSRFToken",window.ShuupAdminConfig.csrf)}})}function o(e){return i.default.request({method:"GET",url:location.pathname,data:e})}function l(e){var t=window.Messages;if(t){var u=e.message,n=e.error;n&&t.enqueue({tags:"error",text:n}),u&&t.enqueue({tags:"info",text:u})}}Object.defineProperty(t,"__esModule",{value:!0}),t.post=r,t.get=o,t.handleResponseMessages=l;var a=u(2),i=n(a)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var u=t.id,n=t.name,r=d.default.trim(prompt(gettext("New file name?"),n)||"");r&&n!==r&&M.post({action:"rename_file",id:u,name:r}).then(function(t){M.handleResponseMessages(t),e.reloadFolderContents()})}function l(e,t){var u=t.id,n=t.name;confirm(interpolate(gettext("Are you sure you want to delete the file %s?"),[n]))&&M.post({action:"delete_file",id:u}).then(function(t){M.handleResponseMessages(t),e.reloadFolderContents()})}function a(e,t,u){M.post({action:"move_file",file_id:t,folder_id:u}).then(function(t){M.handleResponseMessages(t),e.reloadFolderContents()})}Object.defineProperty(t,"__esModule",{value:!0}),t.promptRenameFile=o,t.promptDeleteFile=l,t.moveFile=a;var i=u(1),d=r(i),f=u(7),M=n(f)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var u=prompt(gettext("New folder name?"));u&&c.post({action:"new_folder",parent:t,name:u}).then(function(t){c.handleResponseMessages(t);var u=0|t.folder.id;e.setFolder(u),e.reloadFolderTree(),e.reloadFolderContents()})}function l(e){return o(e,e.currentFolderId())}function a(e){var t=e.folderData(),u=t.id,n=t.name,r=f.default.trim(prompt(gettext("New folder name?"),n)||"");r&&n!==r&&c.post({action:"rename_folder",id:u,name:r}).then(function(t){c.handleResponseMessages(t),e.reloadFolderTree(),e.reloadFolderContents()})}function i(e){var t=e.folderData(),u=t.id,n=t.name;confirm(interpolate(gettext("Are you sure you want to delete the %s folder?"),[n]))&&c.post({action:"delete_folder",id:u}).then(function(t){c.handleResponseMessages(t);var u=0|t.newFolderId;e.setFolder(u),e.reloadFolderTree(),e.reloadFolderContents()})}Object.defineProperty(t,"__esModule",{value:!0}),t.promptCreateFolder=o,t.promptCreateFolderHere=l,t.promptRenameCurrentFolder=a,t.promptDeleteCurrentFolder=i;var d=u(1),f=r(d),M=u(7),c=n(M)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(u){return e.setFolder(t.id),u.preventDefault(),!1}}},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],u=e.currentFolderPath();return a.default.each(u,function(n,r){t.push((0,o.default)("a.breadcrumb-link"+(r===u.length-1?".current":""),{href:"#",key:n.id,onclick:(0,d.default)(e,n)},n.name)),t.push((0,o.default)("i.fa.fa-angle-right"))}),t.pop(),t.unshift((0,o.default)("i.fa.fa-folder-open.folder-icon")),t};var r=u(2),o=n(r),l=u(1),a=n(l),i=u(10),d=n(i)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return t=/^([+-])(.+)$/.exec(t||"+name"),e=c.default.sortBy(e||[],t[2]),"-"===t[1]&&(e=e.reverse()),e}function l(e){var t=e.folderData(),u=(0,i.default)("div.btn-group.btn-group-sm.icons",[(0,f.default)(e.viewMode,"grid",(0,i.default)("i.fa.fa-th"),"Grid"),(0,f.default)(e.viewMode,"list",(0,i.default)("i.fa.fa-th-list"),"List")]),n=(0,i.default)("div.btn-group.btn-group-sm",[(0,f.default)(e.sortMode,"+name","A-Z"),(0,f.default)(e.sortMode,"-name","Z-A"),(0,f.default)(e.sortMode,"+date",gettext("Oldest first")),(0,f.default)(e.sortMode,"-date",gettext("Newest first")),(0,f.default)(e.sortMode,"+size",gettext("Smallest first")),(0,f.default)(e.sortMode,"-size",gettext("Largest first"))]),r=(0,i.default)("div.btn-toolbar",[u,n]),l=o(t.files||[],e.sortMode()),a=o(t.folders||[],e.sortMode()),d=null,M=null;if(0===a.length&&0===l.length)d=(0,L.default)(e,t),r=null;else{switch(e.viewMode()){case"grid":d=(0,g.default)(e,a,l);break;case"list":d=(0,y.default)(e,a,l)}M=(0,i.default)("div.upload-hint",I.default)}var c=(0,i.default)("div.folder-contents.fd-zone",{"data-folder-id":t.id,config:(0,v.dropzoneConfig)(e)},[d,M,(0,i.default)("div.upload-indicator",[(0,i.default)("div.image",(0,i.default)("img",{src:D.uploadIndicator})),(0,i.default)("div.text",[i.default.trust(gettext("Drop your files here"))])])]);return(0,i.default)("div.folder-view",[r,c])}Object.defineProperty(t,"__esModule",{value:!0}),t.default=l;var a=u(2),i=r(a),d=u(13),f=r(d),M=u(1),c=r(M),s=u(14),L=r(s),j=u(17),g=r(j),p=u(27),y=r(p),N=u(16),I=r(N),v=u(5),S=u(21),D=n(S)},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,u,n){var r=e()==t;return(0,o.default)("button.btn.btn-default"+(r?".active":""),{type:"button",onclick:a.default.bind(e,null,t),title:n},u)};var r=u(2),o=n(r),l=u(1),a=n(l)},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)("div.empty-folder",[(0,o.default)("div.empty-image",(0,o.default)("img",{src:u(15)})),(0,o.default)("div.empty-text",a.default)])};var r=u(2),o=n(r),l=u(16),a=n(l)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2MDAgNDAwIj48cGF0aCBmaWxsPSIjREREIiBkPSJNNTYxLjUgMTY2LjRjLTEuMS0yLjYtMi40LTQuNi0zLjktNi4xTDUzMi40IDEzNWMtMS41LTEuNS0zLjYtMi44LTYuMS0zLjktMi42LTEuMS01LTEuNi03LjEtMS42aC03Mi41Yy0yLjIgMC00IC44LTUuNSAyLjMtMS41IDEuNS0yLjMgMy4zLTIuMyA1LjV2MTI5LjNjMCAyLjIuOCA0IDIuMyA1LjUgMS41IDEuNSAzLjMgMi4zIDUuNSAyLjNoMTA4LjdjMi4yIDAgNC0uOCA1LjUtMi4zIDEuNS0xLjUgMi4zLTMuMyAyLjMtNS41di05My4xYy0uMS0yLjItLjYtNC41LTEuNy03LjF6bS0zOS44LTI1LjljMS42LjUgMi43IDEuMSAzLjMgMS44bDI1LjMgMjUuM2MuNi42IDEuMiAxLjggMS44IDMuM2gtMzAuNHYtMzAuNHpNNTUyLjggMjY0SDQ0OS4yVjEzOS45aDYyLjF2MzMuNmMwIDIuMi44IDQgMi4zIDUuNSAxLjUgMS41IDMuMyAyLjMgNS41IDIuM2gzMy43VjI2NHptLTgyLjEtNzEuN2MtLjUuNS0uNyAxLjEtLjcgMS45djUuMmMwIC44LjIgMS40LjcgMS45czEuMS43IDEuOS43aDU3Yy44IDAgMS40LS4yIDEuOS0uN3MuNy0xLjEuNy0xLjl2LTUuMmMwLS44LS4yLTEuNC0uNy0xLjlzLTEuMS0uNy0xLjktLjdoLTU3Yy0uOCAwLTEuNS4yLTEuOS43em01OC44IDQwLjdoLTU3Yy0uOCAwLTEuNC4yLTEuOS43LS41LjUtLjcgMS4xLS43IDEuOXY1LjJjMCAuOC4yIDEuNC43IDEuOXMxLjEuNyAxLjkuN2g1N2MuOCAwIDEuNC0uMiAxLjktLjdzLjctMS4xLjctMS45di01LjJjMC0uOC0uMi0xLjQtLjctMS45LS41LS41LTEuMi0uNy0xLjktLjd6bTAtMjAuN2gtNTdjLS44IDAtMS40LjItMS45LjdzLS43IDEuMS0uNyAxLjl2NS4yYzAgLjguMiAxLjQuNyAxLjlzMS4xLjcgMS45LjdoNTdjLjggMCAxLjQtLjIgMS45LS43cy43LTEuMS43LTEuOXYtNS4yYzAtLjgtLjItMS40LS43LTEuOXMtMS4yLS43LTEuOS0uN3pNMTA5LjMgMjE2LjFjLTQuOS00LTguOC0xMC40LTExLjgtMTkuMi42LTMuNyAxLTguOSAxLjEtMTUuNVYxNzljMC0uMyAwLS41LS4xLS42LjEtLjEuMi0uMy4zLS42LjUtMi41LjItNC40LS43LTUuNS0uNi0uOC0xLjYtMS4yLTIuOC0xLjJoLTEuOGMtMS43IDAtMi44IDEuMS0zLjQgMy4yLS43IDIuNy0uOSA2LjEtLjUgMTAuMy40IDQuMiAxLjIgOC41IDIuNSAxMi45LTEuOSA2LjgtNC43IDEzLjgtOC40IDIxLjItMyA2LTUuOSAxMS4zLTguNyAxNS45IDAtLjEtLjEtLjItLjItLjMtLjUtLjgtMS4xLTEtMS45LS41LTQuNiAyLjQtOC4xIDUtMTAuNyA3LjgtMi41IDIuOC00IDUuMi00LjUgNy40LS4yIDEuNC0uMSAyLjQuNSAyLjkuMy4yLjQuNC41LjRsMS45IDFjLjcuNCAxLjUuNiAyLjMuNiA0LjggMCAxMS4zLTcuMSAxOS42LTIxLjIgOS4yLTMuMiAxOS44LTUuNCAzMS43LTYuNyAzLjQgMS44IDYuOSAzLjIgMTAuNSA0LjMgMy42IDEuMSA2LjcgMS42IDkuMyAxLjYgMy41IDAgNS40LTEgNS43LTMuMXYtLjFsLjItLjJjLjEtLjEuMS0uMS4xLS4yLjgtMS42LjctMy0uMi00LjItMS42LTIuNi02LjQtNC0xNC4zLTQtMy4xIDAtNi4zLjItOS41LjYtMi42LTEuNy00LjktMy4yLTYuNy00LjZ6bS00Ni42IDMzLjJjLjctMS42IDItMy42IDQtNnM0LjMtNC42IDcuMS02LjhjLTQuNiA3LjItOC4zIDExLjUtMTEuMSAxMi44em0zMi4yLTc0LjR2LS4yYy4xLS4xLjEtLjEuMS0uMi42LjggMSAxLjcgMS4xIDIuOXYuMmMwIC4xIDAgLjEuMS4yLS4yLjItLjMuNC0uMy42LS40IDIuMi0uNiAzLjMtLjYgMy41LS4zIDItLjUgMy4yLS42IDMuNi0uNi00LjgtLjYtOC4zLjItMTAuNnptLTEwIDUzLjRjLjgtMS41IDItMy43IDMuNi02LjcgMy02IDUuMy0xMS4zIDYuNy0xNS45IDIuOCA1LjkgNi4yIDEwLjYgMTAuMyAxNC4yLjMuMy43LjYgMS4zIDEuMS42LjUuOS43IDEuMS44LTguMSAxLjUtMTUuNyAzLjYtMjMgNi41em01Mi4zLTEuMmwuMi4yYy0uMi4xLS43LjEtMS41LjEtMi42IDAtNS45LS44LTEwLTIuMyA2LjIgMCAxMCAuNyAxMS4zIDJ6bTIyLjQtNjAuN2MtMS4xLTIuNi0yLjQtNC42LTMuOS02LjFMMTMwLjUgMTM1Yy0xLjUtMS41LTMuNi0yLjgtNi4xLTMuOS0yLjYtMS4xLTUtMS42LTcuMS0xLjZINDQuOGMtMi4yIDAtNCAuOC01LjUgMi4zLTEuNSAxLjUtMi4zIDMuMy0yLjMgNS41djEyOS4zYzAgMi4yLjggNCAyLjMgNS41IDEuNSAxLjUgMy4zIDIuMyA1LjUgMi4zaDEwOC43YzIuMiAwIDQtLjggNS41LTIuMyAxLjUtMS41IDIuMy0zLjMgMi4zLTUuNXYtOTMuMWMwLTIuMi0uNi00LjUtMS43LTcuMXptLTM5LjgtMjUuOWMxLjYuNSAyLjcgMS4xIDMuMyAxLjhsMjUuMyAyNS4zYy42LjYgMS4yIDEuOCAxLjggMy4zaC0zMC40di0zMC40ek0xNTAuOSAyNjRINDcuNFYxMzkuOWg2Mi4xdjMzLjZjMCAyLjIuOCA0IDIuMyA1LjUgMS41IDEuNSAzLjMgMi4zIDUuNSAyLjNIMTUxVjI2NHpNMjUwLjcgMjIwLjdjOC4yIDAgMTUuMi0yLjkgMjEtOC42IDUuOC01LjcgOC42LTEyLjcgOC42LTIwLjlzLTIuOS0xNS4yLTguNi0yMC45Yy01LjgtNS43LTEyLjctOC42LTIxLTguNi04LjIgMC0xNS4yIDIuOS0yMSA4LjYtNS44IDUuOC04LjYgMTIuNy04LjYgMjAuOXMyLjkgMTUuMiA4LjYgMjAuOWM1LjggNS43IDEyLjggOC42IDIxIDguNnptMTkuOCAzOS40bC0xOS43LTE5LjctMjkuNyAyOS42djI5LjZIMzc5di00OS4zTDMyOS43IDIwMWwtNTkuMiA1OS4xem0xNDQuOS0xMjYuOWMtMi4xLTQuOS00LjUtOC44LTcuNC0xMS43bC00OC4xLTQ4LjFjLTIuOS0yLjktNi44LTUuMy0xMS43LTcuNC00LjktMi4xLTkuNS0zLjEtMTMuNi0zLjFIMTk2LjRjLTQuMSAwLTcuNiAxLjQtMTAuNSA0LjMtMi45IDIuOS00LjMgNi40LTQuMyAxMC41djI0Ni40YzAgNC4xIDEuNCA3LjYgNC4zIDEwLjUgMi45IDIuOSA2LjQgNC4zIDEwLjUgNC4zaDIwNy4yYzQuMSAwIDcuNi0xLjQgMTAuNS00LjMgMi45LTIuOSA0LjMtNi40IDQuMy0xMC41VjE0Ni44Yy4xLTQuMS0uOS04LjYtMy0xMy42em0tNzUuOS00OS4zYzMgMSA1LjEgMi4yIDYuMyAzLjRsNDguMyA0OC4yYzEuMiAxLjIgMi40IDMuMyAzLjQgNi4zaC01OFY4My45em01OS4yIDIzNS40SDIwMS40VjgyLjdoMTE4LjR2NjQuMWMwIDQuMSAxLjQgNy42IDQuMyAxMC41IDIuOSAyLjkgNi40IDQuMyAxMC41IDQuM2g2NC4xdjE1Ny43eiIvPjwvc3ZnPg=="},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=u(2),o=n(r),l=u(5),a=gettext("Click the <strong>Upload</strong> button to upload files."),i=l.supportsDnD?gettext("<span>Drag and drop</span> files here<br> or click the <span>Upload</span> button."):a,d=[(0,o.default)("div.visible-sm.visible-xs",o.default.trust(a)),(0,o.default)("div.visible-md.visible-lg",o.default.trust(i))];t.default=d},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,u){var n=i.default.map(t,function(t){return(0,l.default)("div.col-xs-6.col-md-4.col-lg-3.grid-folder.fd-zone",{key:"folder-"+t.id,"data-folder-id":t.id,config:(0,s.dropzoneConfig)(e)},[(0,l.default)("a.file-preview",{onclick:function(){return e.setFolder(t.id),!1},href:"#"},(0,l.default)("i.fa.fa-folder-open.folder-icon")),(0,l.default)("div.file-name",(0,c.default)(e,t))])}),r=i.default.map(u,function(t){return(0,l.default)("div.col-xs-6.col-md-4.col-lg-3.grid-file",{key:t.id,draggable:!0,ondragstart:function(e){e.stopPropagation(),e.dataTransfer.effectAllowed="copyMove",e.dataTransfer.setData("text",JSON.stringify({fileId:t.id}));try{var u=document.createElement("img");u.src=t.thumbnail||j.defaultThumbnail,u.width=100,e.dataTransfer.setDragImage(u,0,0)}catch(e){}}},(0,l.default)("button.file-cog-btn.btn.btn-xs.btn-default",{key:"filecog",onclick:function(u){p.open(u.currentTarget,(0,N.default)(e,t)),u.preventDefault()}},(0,l.default)("i.fa.fa-cog")),(0,f.default)(t,"a.file-preview",[(0,l.default)("img.img-responsive",{src:t.thumbnail||j.defaultThumbnail}),(0,l.default)("div.file-name",t.name)]))});return(0,l.default)("div.row",n.concat(r))};var o=u(2),l=r(o),a=u(1),i=r(a),d=u(18),f=r(d),M=u(20),c=r(M),s=u(5),L=u(21),j=n(L),g=u(23),p=n(g),y=u(25),N=r(y)},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"a",u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.name,n={href:e.url,target:"_blank"},r=(0,a.default)();return r&&(n.onclick=function(t){return window.opener.postMessage({pick:{id:r,object:{id:e.id,text:e.name,url:e.url,thumbnail:e.thumbnail}}},"*"),t.preventDefault(),!1}),(0,o.default)(t,n,u)};var r=u(2),o=n(r),l=u(19),a=n(l)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=/pick=([^&]+)/.exec(window.location.search);return e?e[1]:null}},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,o.default)("a",{href:"#",onclick:function(){return e.setFolder(t.id),!1}},t.name)};var r=u(2),o=n(r)},function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.uploadIndicator=u(15),t.defaultThumbnail=u(22)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNDUgMTQ1IiBoZWlnaHQ9IjE0NSIgd2lkdGg9IjE0NSI+PHBhdGggZD0iTTEyNC41IDEzNC45NjhoLTEwNHYtMTI0aDYyYy4wOTUgMTEuMTM4LS4xOTIgMjIuODkyLjE0OCAzNC42MDggMS4xMzcgNS40MDcgNi43MjIgNi45MjMgMTEuMjg3IDYuMzkySDEyNC41djgyLjU5M3pNOTMuMSAxMC45NzVjNC40MzggMS42OCA3LjA0NyA2LjA3IDEwLjU2NCA5LjA5NiA2LjEyIDYuMjEyIDEyLjM5IDEyLjI4NyAxOC40MTYgMTguNTgyIDMuNjIgNC42NjMtMi4yODcgMi45OS00Ljc0OCAzLjMxNkg5My41VjEwLjk3NXptMzkuNzA0IDI1LjkxOGMtMi44MTgtNi41NDctOC45NDYtMTAuNjYtMTMuNTY3LTE1Ljg1LTUuODM0LTUuNjgyLTExLjI5OC0xMS43OC0xNy4zODgtMTcuMTc2LTYuNTQyLTUuMTYtMTQuOTg0LTMuNjk0LTIyLjY3LTMuOS0yMC41NjguMDI2LTQxLjEzOC0uMDUtNjEuNzAzLjAzOC01LjQzMi4zODctNy42MiA2LjA5LTYuOTc3IDEwLjgyNS4wMjUgNDIuMzgtLjA1IDg0Ljc2LjAzNyAxMjcuMTQuMzg2IDUuNDQ4IDYuMDcgNy42NDMgMTAuNzkgNi45OTggMzUuNC0uMDI1IDcwLjguMDUgMTA2LjE5Ni0uMDM4IDUuNDMyLS4zODYgNy42Mi02LjA5IDYuOTc3LTEwLjgyNC0uMDM4LTMwLjMxMi4wNzUtNjAuNjMtLjA1Ny05MC45NC0uMTkyLTIuMTY0LS43OTQtNC4yNzYtMS42NC02LjI3M3oiIGZpbGw9IiNkZGQiLz48L3N2Zz4="},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function r(){return null!==g&&null!==N}function o(){if(r()){var e=(0,j.default)(g)||y;if(null!==e){var t=window.innerWidth,u=e.left,n=e.top+e.height+5,o=(0,j.default)(N),l=o?o.width:0;t&&u+l>t-v&&(u=u+e.width-l),s.default.assign(N.style,{display:"block",left:u+"px",top:n+"px",position:"absolute",zIndex:9e3})}}}function l(e){return function(){var t=null;return s.default.isArray(e)&&(t=e),s.default.isFunction(e)&&(t=e()),s.default.isArray(t)?(0,M.default)("ul.dropdown-menu",{style:"display: block; float: none; position: static; top: 0"},t):t}}function a(){return null===N&&(N=document.createElement("div"),document.body.appendChild(N),window.addEventListener("resize",S,!1),window.addEventListener("scroll",S,!1),document.body.addEventListener("click",function(e){if(r()&&!(+new Date-I<200)){var t=e.target;do if(t===N)return!1;while(t=t.parentElement);d()}},!1)),N}function i(e,t){return g===e?void d():(e&&a(),g=e,p=t?{view:l(t),controller:s.default.noop}:null,I=+new Date,void(N&&(M.default.mount(N,p),y=e?(0,j.default)(e):null,t&&(o(),setTimeout(S,100)))))}function d(){i(null,null)}Object.defineProperty(t,"__esModule",{value:!0}),t.isMenuVisible=r,t.open=i,t.close=d;var f=u(2),M=n(f),c=u(1),s=n(c),L=u(24),j=n(L),g=null,p=null,y=null,N=null,I=0,v=20,S=s.default.debounce(o,20)},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.getClientRects().length)return null;var t=e.getBoundingClientRect();if(!t.width&&!t.height)return null;var u=e.ownerDocument,n=u.defaultView||window,r=u.documentElement;return{top:t.top+n.pageYOffset-r.clientTop,left:t.left+n.pageXOffset-r.clientLeft,width:t.width,height:t.height}}},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return function(){return[(0,l.default)(gettext("Rename file"),function(){i.promptRenameFile(e,t)},{disabled:e.isMenuDisabled("rename")}),(0,l.default)(gettext("Delete file"),function(){i.promptDeleteFile(e,t)},{disabled:e.isMenuDisabled("delete")})]}};var o=u(26),l=r(o),a=u(8),i=n(a)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=["li"];return u.disabled&&(t=a.default.noop,n.push("disabled")),(0,d.default)(n.join("."),(0,d.default)("a",{href:"#",onclick:function(e){e.preventDefault(),t(),M.close()}},e))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var l=u(1),a=r(l),i=u(2),d=r(i),f=u(23),M=n(f)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,u){var n=l.default.map(t,function(t){return(0,i.default)("tr",{key:"folder-"+t.id},[(0,i.default)("td",{colspan:4},[(0,i.default)("i.fa.fa-folder.folder-icon")," ",(0,L.default)(e,t)])])}),r=l.default.map(u,function(t){return(0,i.default)("tr",{key:t.id},[(0,i.default)("td",(0,c.default)(t)),(0,i.default)("td.text-right",t.size),(0,i.default)("td.text-right",(0,f.default)(t.date).format()),(0,i.default)("td",{key:"filecog",onclick:function(u){y.open(u.currentTarget,(0,g.default)(e,t)),u.preventDefault()}},(0,i.default)("i.fa.fa-cog"))])});return(0,i.default)("div.table-responsive",[(0,i.default)("table.table.table-condensed.table-striped.table-bordered",[(0,i.default)("thead",(0,i.default)("tr",l.default.map([gettext("Name"),gettext("Size"),gettext("Date"),gettext("Edit")],function(e){return(0,i.default)("th",e)}))),(0,i.default)("tbody",n.concat(r))])])};var o=u(1),l=r(o),a=u(2),i=r(a),d=u(28),f=r(d),M=u(18),c=r(M),s=u(20),L=r(s),j=u(25),g=r(j),p=u(23),y=n(p)},function(e,t){e.exports=window.moment},function(e,t,u){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){function u(e,r){return e.id==t?void(n=r.concat([e])):(r=[].concat(r).concat([e]),void o.default.each(e.children,function(e){n||u(e,r)}))}var n=null;return u(e,[]),n||[]};var r=u(1),o=n(r)},function(e,t,u){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var u in e)Object.prototype.hasOwnProperty.call(e,u)&&(t[u]=e[u]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(){var t=0===(0|e.currentFolderId());return[(0,l.default)(gettext("New folder"),function(){i.promptCreateFolderHere(e)},{disabled:e.isMenuDisabled("new")}),(0,l.default)(gettext("Rename folder"),function(){i.promptRenameCurrentFolder(e)},{disabled:t||e.isMenuDisabled("rename")}),(0,l.default)(gettext("Delete folder"),function(){i.promptDeleteCurrentFolder(e)},{disabled:t||e.isMenuDisabled("delete")})]}};var o=u(26),l=r(o),a=u(9),i=n(a)}]);
//# sourceMappingURL=media-browser.js.map