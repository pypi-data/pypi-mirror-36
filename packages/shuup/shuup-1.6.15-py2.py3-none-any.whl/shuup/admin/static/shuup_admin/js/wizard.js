"use strict";!function(p){p.fn.wizard=function(){var i=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=this.find(".wizard-nav li"),a=this.find(".wizard-pane"),r=e.find(".active"),o=a.filter(".active");function s(){return a.index(o)==a.length-1}function d(t,i,n,e,a){return'<button name="'+i+'"class="btn btn-lg '+e+'" '+(n?"disabled":"")+(a?"data-toggle='tooltip' data-placement='bottom' title='"+a+"'":"")+">"+t+"</button>"}function t(t){e.removeClass("active"),a.removeClass("active"),r=e.eq(t),o=a.eq(t),r.addClass("active"),o.addClass("active"),function(){a.find(".action-bar").remove();var t=!1,i=!1;0===a.index(o)&&(t=!0),s()&&!n.redirectOnLastPane&&(i=!0),o.append('<div class="action-bar"><div class="clearfix">'+d(gettext("Previous"),"previous",t,"btn-primary pull-left "+(n.hidePrevious?"hidden":""))+d(s()?gettext("Finish"):gettext("Next"),"next",i,"btn-primary pull-right")+("True"===o.data("can_skip")||n.skip?d(gettext("Skip"),"skip",!1,"btn-default pull-right btn-wizard-skip",n.skipTooltip):"")+"</div></div>"),o.find('[data-toggle="tooltip"]').tooltip()}()}function c(){t(a.index(o)+1)}function f(){t(a.index(o)-1)}function u(){var t=o.find("form");return clearErrors(t),p.ajax({method:"POST",traditional:!0,data:serializeForm(t)})}var l={next:c,previous:f,submit:u};return n in l?l[n]():(p.isNumeric(n)?t(n):(this.on("click","button[name='next']",function(){i.find("button[name='next']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),n.next?n.next(o):u().done(function(){n.redirectOnLastPane&&s()?window.location=n.redirectOnLastPane:c()}).fail(function(t){i.find("i.fa.fa-spinner").remove(),renderFormErrors(o.find("form"),t.responseJSON)})}),this.on("click","button[name='previous']",function(){i.find("button[name='previous']").prepend('<i class="fa fa-spinner fa-pulse fa-fw"></i>'),n.previous?n.previous(o):f()}),this.on("click","button[name='skip']",function(){n.redirectOnLastPane&&s()?window.location=n.redirectOnLastPane:c()}),t(0)),this)}}(jQuery);
//# sourceMappingURL=wizard.js.map
