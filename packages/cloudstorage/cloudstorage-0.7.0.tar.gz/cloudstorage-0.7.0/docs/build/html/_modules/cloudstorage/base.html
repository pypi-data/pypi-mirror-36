

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cloudstorage.base &mdash; Cloud Storage 0.6 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Cloud Storage
          

          
          </a>

          
            
            
              <div class="version">
                0.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../installation.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#install">Install</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../installation.html#source-code">Source Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../supported.html">Supported Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../quick.html">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#basic-terminology">Basic Terminology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#connecting-to-storage">Connecting to Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#creating-a-container">Creating a Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#accessing-a-container">Accessing a Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#deleting-a-container">Deleting a Container</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#uploading-a-blob">Uploading a Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#accessing-a-blob">Accessing a Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#downloading-a-blob">Downloading a Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#deleting-a-blob">Deleting a Blob</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#generate-a-download-url">Generate a Download Url</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#generate-an-upload-formpost">Generate an Upload FormPost</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#iteration-of-containers-and-blobs">Iteration of Containers and Blobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../quick.html#metadata-and-extra-arguments">Metadata and Extra Arguments</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../advanced.html">Advanced</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/amazon.html">Amazon Simple Storage Service (S3)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/amazon.html#connecting">Connecting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/amazon.html#access-control-list-acl">Access Control List (ACL)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/google.html">Google Cloud Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/google.html#connecting">Connecting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/google.html#access-control-list-acl">Access Control List (ACL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/google.html#content-delivery-network-cdn">Content Delivery Network (CDN)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/microsoft.html">Microsoft Azure Storage</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/microsoft.html#connecting">Connecting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/microsoft.html#access-control-list-acl">Access Control List (ACL)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/rackspace.html">Rackspace Cloud Files</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/rackspace.html#connecting">Connecting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/rackspace.html#access-control-list-acl">Access Control List (ACL)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/rackspace.html#content-delivery-network-cdn">Content Delivery Network (CDN)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../advanced/local.html">Local File System Driver</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/local.html#connecting">Connecting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/local.html#metadata">Metadata</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/local.html#generate-a-download-url">Generate a Download Url</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../advanced/local.html#generate-an-upload-formpost">Generate an Upload FormPost</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#base">Base</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/blob.html">Blob</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/container.html">Container</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/driver.html">Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#drivers">Drivers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../api/microsoft.html">AzureStorageDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/rackspace.html">CloudFilesDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/google.html">GoogleStorageDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/local.html">LocalDriver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../api/amazon.html">S3Driver</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#module-cloudstorage.helpers">Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#module-cloudstorage.utils">Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#module-cloudstorage.exceptions">Exceptions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api.html#logging">Logging</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../changelog.html">Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#unreleased-2018-10-03">Unreleased (2018-10-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id4">0.6 (2018-07-24)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id5">0.5 (2018-02-26)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id7">0.4 (2017-08-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id11">0.3 (2017-05-24)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id13">0.2 (2017-04-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../changelog.html#id14">0.1 (2017-04-20)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../authors.html">Authors</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../authors.html#lead">Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../authors.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Cloud Storage</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>cloudstorage.base</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for cloudstorage.base</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">abc</span>
<span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="k">import</span> <span class="n">abstractmethod</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="k">import</span> <span class="n">Any</span><span class="p">,</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">Iterable</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Optional</span><span class="p">,</span> <span class="n">Union</span>  <span class="c1"># noqa: F401</span>

<span class="kn">from</span> <span class="nn">cloudstorage</span> <span class="k">import</span> <span class="n">messages</span>
<span class="kn">from</span> <span class="nn">cloudstorage.exceptions</span> <span class="k">import</span> <span class="n">NotFoundError</span>
<span class="kn">from</span> <span class="nn">cloudstorage.typed</span> <span class="k">import</span> <span class="p">(</span>
    <span class="n">Acl</span><span class="p">,</span>
    <span class="n">ContentLength</span><span class="p">,</span>
    <span class="n">ExtraOptions</span><span class="p">,</span>
    <span class="n">FileLike</span><span class="p">,</span>
    <span class="n">FormPost</span><span class="p">,</span>
    <span class="n">MetaData</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>


<div class="viewcode-block" id="Blob"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob">[docs]</a><span class="k">class</span> <span class="nc">Blob</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Represents an object blob.</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">        picture_blob.size</span>
<span class="sd">        # 50301</span>
<span class="sd">        picture_blob.checksum</span>
<span class="sd">        # &#39;2f907a59924ad96b7478074ed96b05f0&#39;</span>
<span class="sd">        picture_blob.content_type</span>
<span class="sd">        # &#39;image/png&#39;</span>
<span class="sd">        picture_blob.content_disposition</span>
<span class="sd">        # &#39;attachment; filename=picture-attachment.png&#39;</span>

<span class="sd">    :param name: Blob name (must be unique in container).</span>
<span class="sd">    :type name: str</span>

<span class="sd">    :param checksum: Checksum of this blob.</span>
<span class="sd">    :type checksum: str</span>

<span class="sd">    :param etag: Blob etag which can also be the checksum. The etag for</span>
<span class="sd">      `LocalDriver` is a SHA1 hexdigest of the blob&#39;s full path.</span>
<span class="sd">    :type etag: str</span>

<span class="sd">    :param size: Blob size in bytes.</span>
<span class="sd">    :type size: int</span>

<span class="sd">    :param container: Reference to the blob&#39;s container.</span>
<span class="sd">    :type container: Container</span>

<span class="sd">    :param driver: Reference to the blob&#39;s container&#39;s driver.</span>
<span class="sd">    :type driver: Driver</span>

<span class="sd">    :param meta_data: (optional) Metadata stored with the blob.</span>
<span class="sd">    :type meta_data: Dict[str, str] or None</span>

<span class="sd">    :param acl: (optional) Access control list (ACL) for this blob.</span>
<span class="sd">    :type acl: dict or None</span>

<span class="sd">    :param content_disposition: (optional) Specifies presentational</span>
<span class="sd">                                information for this blob.</span>
<span class="sd">    :type content_disposition: str or None</span>

<span class="sd">    :param content_type: (optional) A standard MIME type describing the format</span>
<span class="sd">                         of the object data.</span>
<span class="sd">    :type content_type: str or None</span>

<span class="sd">    :param created_at: (optional) Creation time of this blob.</span>
<span class="sd">    :type created_at: datetime.datetime or None</span>

<span class="sd">    :param modified_at: (optional) Last modified time of this blob.</span>
<span class="sd">    :type modified_at: datetime.datetime or None</span>

<span class="sd">    :param expires_at: (optional) Deletion or expiration time for this blob.</span>
<span class="sd">    :type expires_at: datetime.datetime or None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">checksum</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">etag</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
                 <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span> <span class="s1">&#39;Driver&#39;</span><span class="p">,</span> <span class="n">acl</span><span class="p">:</span> <span class="n">Acl</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cache_control</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">modified_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">expires_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">acl</span> <span class="o">=</span> <span class="n">acl</span> <span class="k">if</span> <span class="n">acl</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="n">meta_data</span> <span class="o">=</span> <span class="n">meta_data</span> <span class="k">if</span> <span class="n">meta_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">size</span> <span class="o">=</span> <span class="n">size</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">checksum</span> <span class="o">=</span> <span class="n">checksum</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">etag</span> <span class="o">=</span> <span class="n">etag</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">container</span> <span class="o">=</span> <span class="n">container</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">acl</span> <span class="o">=</span> <span class="n">acl</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">meta_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_disposition</span> <span class="o">=</span> <span class="n">content_disposition</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">content_type</span> <span class="o">=</span> <span class="n">content_type</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cache_control</span> <span class="o">=</span> <span class="n">cache_control</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">created_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modified_at</span> <span class="o">=</span> <span class="n">modified_at</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">expires_at</span> <span class="o">=</span> <span class="n">expires_at</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_attr</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acl</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_meta_data</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>

        <span class="c1"># Track attributes for object PUT</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;meta_data&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_meta_data</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;acl&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_acl</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_attr</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default equals behavior.</span>

<span class="sd">        :param other: The other Blob.</span>
<span class="sd">        :type other: Blob</span>

<span class="sd">        :return: True if the Blobs are the same.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">checksum</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">checksum</span>
        <span class="k">return</span> <span class="bp">NotImplemented</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default hash behavior.</span>

<span class="sd">        :return: Hash.</span>
<span class="sd">        :rtype: hash</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># TODO: QUESTION: Include extra attributes like self.name?</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">checksum</span><span class="p">)</span>

<div class="viewcode-block" id="Blob.__len__"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob.__len__">[docs]</a>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The blob size in bytes.</span>

<span class="sd">        :return: bytes</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">size</span></div>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default not equals behavior.</span>

<span class="sd">        :param other: The other blob.</span>
<span class="sd">        :type other: Blob</span>

<span class="sd">        :return: True if the containers are not the same.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cdn_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The Content Delivery Network URL for this blob.</span>

<span class="sd">        `https://container-name.storage.com/picture.png`</span>

<span class="sd">        :return: The CDN URL for this blob.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">blob_cdn_url</span><span class="p">(</span><span class="n">blob</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">path</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Relative URL path for this blob.</span>

<span class="sd">        `container-name/picture.png`</span>

<span class="sd">        :return: The relative URL path to this blob.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="s1">&#39;</span><span class="si">%s</span><span class="s1">/</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<div class="viewcode-block" id="Blob.delete"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete this blob from the container.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            picture_blob.delete()</span>
<span class="sd">            picture_blob in container</span>
<span class="sd">            # False</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">delete_blob</span><span class="p">(</span><span class="n">blob</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Blob.download"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob.download">[docs]</a>    <span class="k">def</span> <span class="nf">download</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="n">FileLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Download the contents of this blob into a file-like object or into</span>
<span class="sd">        a named file.</span>

<span class="sd">        Filename:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            picture_blob.download(&#39;/path/picture-copy.png&#39;)</span>

<span class="sd">        File object:</span>

<span class="sd">        .. IMPORTANT:: Always use write binary mode `wb` when downloading a</span>
<span class="sd">            blob to a file object.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            with open(&#39;/path/picture-copy.png&#39;, &#39;wb&#39;) as picture_file:</span>
<span class="sd">                picture_blob.download(picture_file)</span>

<span class="sd">        :param destination: A file handle to which to write the blob’s data or</span>
<span class="sd">          a filename to be passed to `open`.</span>
<span class="sd">        :type destination: file or str</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">download_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">destination</span><span class="p">)</span></div>

<div class="viewcode-block" id="Blob.generate_download_url"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob.generate_download_url">[docs]</a>    <span class="k">def</span> <span class="nf">generate_download_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
                              <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                              <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generates a signed URL for this blob.</span>

<span class="sd">        If you have a blob that you want to allow access to for a set amount of</span>
<span class="sd">        time, you can use this method to generate a URL that is only valid</span>
<span class="sd">        within a certain time period. This is particularly useful if you don’t</span>
<span class="sd">        want publicly accessible blobs, but don’t want to require users to</span>
<span class="sd">        explicitly log in. [#f1]_</span>

<span class="sd">        .. [#f1] `Blobs / Objects — google-cloud 0.24.0 documentation</span>
<span class="sd">         &lt;https://googlecloudplatform.github.io/google-cloud-python/</span>
<span class="sd">         stable/storage-blobs.html&gt;`_</span>

<span class="sd">        Basic example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            import requests</span>

<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            download_url = picture_blob.download_url(expires=3600)</span>

<span class="sd">            response = requests.get(download_url)</span>
<span class="sd">            # &lt;Response [200]&gt;</span>

<span class="sd">            with open(&#39;/path/picture-download.png&#39;, &#39;wb&#39;) as picture_file:</span>
<span class="sd">                for chunk in response.iter_content(chunk_size=128):</span>
<span class="sd">                    picture_file.write(chunk)</span>

<span class="sd">        Response Content-Disposition example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>

<span class="sd">            params = {</span>
<span class="sd">                &#39;expires&#39;: 3600,</span>
<span class="sd">                &#39;content_disposition&#39;: &#39;attachment; filename=attachment.png&#39;</span>
<span class="sd">            }</span>
<span class="sd">            download_url = picture_blob.download_url(**params)</span>

<span class="sd">            response = requests.get(download_url)</span>
<span class="sd">            # &lt;Response [200]&gt;</span>
<span class="sd">            response.headers[&#39;content-disposition&#39;]</span>
<span class="sd">            # attachment; filename=attachment.png</span>

<span class="sd">        References:</span>

<span class="sd">        * `Boto 3: S3.Client.generate_presigned_url</span>
<span class="sd">          &lt;http://boto3.readthedocs.io/en/latest/reference/services/s3.html#</span>
<span class="sd">          S3.Client.generate_presigned_url&gt;`_</span>
<span class="sd">        * `Google Cloud Storage: generate_signed_url</span>
<span class="sd">          &lt;https://googlecloudplatform.github.io/google-cloud-python/stable/</span>
<span class="sd">          storage-blobs.html&gt;`_</span>
<span class="sd">        * `Rackspace: TempURL</span>
<span class="sd">          &lt;https://developer.rackspace.com/docs/cloud-files/v1/use-cases/</span>
<span class="sd">          public-access-to-your-cloud-files-account/#tempurl&gt;`_</span>

<span class="sd">        :param expires: (optional) Expiration in seconds.</span>
<span class="sd">        :type expires: int</span>

<span class="sd">        :param method: (optional) HTTP request method. Defaults to `GET`.</span>
<span class="sd">        :type method: str</span>

<span class="sd">        :param content_disposition: (optional) Sets the Content-Disposition</span>
<span class="sd">          header of the response.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>

<span class="sd">                      * All</span>

<span class="sd">                        * **content_type** *(str) --* Sets the Content-Type</span>
<span class="sd">                          header of the response.</span>

<span class="sd">                      * Google Cloud Storage</span>

<span class="sd">                        * **version** *(str) --* A value that indicates which</span>
<span class="sd">                          generation of the resource to fetch.</span>

<span class="sd">                      * Amazon S3</span>

<span class="sd">                        * **version_id** *(str) --* Version of the object.</span>
<span class="sd">        :type extra: Dict[str, str] or None</span>

<span class="sd">        :return: Pre-signed URL for downloading a blob. :class:`.LocalDriver`</span>
<span class="sd">          returns urlsafe signature.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">generate_blob_download_url</span><span class="p">(</span>
            <span class="n">blob</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">expires</span><span class="o">=</span><span class="n">expires</span><span class="p">,</span>
            <span class="n">method</span><span class="o">=</span><span class="n">method</span><span class="p">,</span>
            <span class="n">content_disposition</span><span class="o">=</span><span class="n">content_disposition</span><span class="p">,</span>
            <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">)</span></div>

<div class="viewcode-block" id="Blob.patch"><a class="viewcode-back" href="../../api/blob.html#cloudstorage.base.Blob.patch">[docs]</a>    <span class="k">def</span> <span class="nf">patch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Saves all changed attributes for this blob.</span>

<span class="sd">        .. warning:: Not supported by all drivers yet.</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">patch_blob</span><span class="p">(</span><span class="n">blob</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;Blob </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="Container"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container">[docs]</a><span class="k">class</span> <span class="nc">Container</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;Represents a container (bucket or folder) which contains blobs.</span>

<span class="sd">    .. code-block:: python</span>

<span class="sd">        container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">        container.name</span>
<span class="sd">        # container-name</span>
<span class="sd">        container.created_at</span>
<span class="sd">        # 2017-04-11 08:58:12-04:00</span>
<span class="sd">        len(container)</span>
<span class="sd">        # 20</span>

<span class="sd">    .. todo:: Add option to delete blobs before deleting the container.</span>
<span class="sd">    .. todo:: Support extra headers like Content-Encoding.</span>

<span class="sd">    :param name: Container name (must be unique).</span>
<span class="sd">    :type name: str</span>

<span class="sd">    :param driver: Reference to this container&#39;s driver.</span>
<span class="sd">    :type driver: Driver</span>

<span class="sd">    :param acl: (optional) Container&#39;s canned Access Control List (ACL).</span>
<span class="sd">                If `None`, defaults to storage backend default.</span>

<span class="sd">                * private</span>
<span class="sd">                * public-read</span>
<span class="sd">                * public-read-write</span>
<span class="sd">                * authenticated-read</span>
<span class="sd">                * bucket-owner-read</span>
<span class="sd">                * bucket-owner-full-control</span>
<span class="sd">                * aws-exec-read (Amazon S3)</span>
<span class="sd">                * project-private (Google Cloud Storage)</span>
<span class="sd">    :type acl: str or None</span>

<span class="sd">    :param meta_data: (optional) Metadata stored with this container.</span>
<span class="sd">    :type meta_data: Dict[str, str] or None</span>

<span class="sd">    :param created_at: Creation time of this container.</span>
<span class="sd">    :type created_at: datetime.datetime or None</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">driver</span><span class="p">:</span> <span class="s1">&#39;Driver&#39;</span><span class="p">,</span> <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="n">created_at</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">meta_data</span> <span class="o">=</span> <span class="n">meta_data</span> <span class="k">if</span> <span class="n">meta_data</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="k">else</span> <span class="p">{}</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span> <span class="o">=</span> <span class="n">driver</span>

        <span class="c1"># TODO: FEATURE: Support normalized ACL view.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">acl</span> <span class="o">=</span> <span class="n">acl</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">meta_data</span> <span class="o">=</span> <span class="n">meta_data</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">created_at</span> <span class="o">=</span> <span class="n">created_at</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">_attr</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict[Any, Any]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_acl</span> <span class="o">=</span> <span class="n">acl</span>  <span class="c1"># type: Optional[str]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_meta_data</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict[Any, Any]</span>

        <span class="c1"># Track attributes for object PUT</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">value</span> <span class="ow">in</span> <span class="nb">locals</span><span class="p">()</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;meta_data&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_meta_data</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="s1">&#39;acl&#39;</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_acl</span> <span class="o">=</span> <span class="n">value</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_attr</span><span class="p">[</span><span class="n">key</span><span class="p">]</span> <span class="o">=</span> <span class="n">value</span>

<div class="viewcode-block" id="Container.__contains__"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.__contains__">[docs]</a>    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Blob</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Determines whether or not the blob exists in this container.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            picture_blob in container</span>
<span class="sd">            # True</span>
<span class="sd">            &#39;picture.png&#39; in container</span>
<span class="sd">            # True</span>

<span class="sd">        :param blob: Blob or Blob name.</span>
<span class="sd">        :type blob: str or Blob</span>

<span class="sd">        :return: True if the blob exists.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">blob</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">):</span>
            <span class="n">blob_name</span> <span class="o">=</span> <span class="n">blob</span><span class="o">.</span><span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">blob_name</span> <span class="o">=</span> <span class="n">blob</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_blob</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob_name</span><span class="o">=</span><span class="n">blob_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">NotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">,</span> <span class="n">implemented</span><span class="o">=</span><span class="bp">NotImplemented</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default equals behavior.</span>

<span class="sd">        :param other: The other container.</span>
<span class="sd">        :type other: Container</span>

<span class="sd">        :return: True if the containers are the same.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">other</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="vm">__class__</span><span class="p">):</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">name</span> <span class="ow">and</span> \
                   <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span> <span class="o">==</span> <span class="n">other</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span>  <span class="c1"># noqa: E126</span>
        <span class="k">return</span> <span class="n">implemented</span>

    <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default hash behavior.</span>

<span class="sd">        :return: Hash.</span>
<span class="sd">        :rtype: hash</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span> <span class="o">^</span> <span class="nb">hash</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>

<div class="viewcode-block" id="Container.__iter__"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.__iter__">[docs]</a>    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="n">Blob</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all blobs associated to the container.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            for blob in container:</span>
<span class="sd">                blob.name</span>
<span class="sd">                # blob-1.ext, blob-2.ext</span>

<span class="sd">        :return: Iterable of all blobs belonging to this container.</span>
<span class="sd">        :rtype: Iterable{Blob]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_blobs</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.__len__"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.__len__">[docs]</a>    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Total number of blobs in this container.</span>

<span class="sd">        :return: Blob count in this container.</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">blobs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_blobs</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">blobs</span><span class="p">))</span></div>

    <span class="k">def</span> <span class="nf">__ne__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Override the default not equals behavior.</span>

<span class="sd">        :param other: The other container.</span>
<span class="sd">        :type other: Container</span>

<span class="sd">        :return: True if the containers are not the same.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="fm">__eq__</span><span class="p">(</span><span class="n">other</span><span class="p">)</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">cdn_url</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The Content Delivery Network URL for this container.</span>

<span class="sd">        `https://container-name.storage.com/`</span>

<span class="sd">        :return: The CDN URL for this container.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">container_cdn_url</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="Container.patch"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.patch">[docs]</a>    <span class="k">def</span> <span class="nf">patch</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Saves all changed attributes for this container.</span>

<span class="sd">        .. warning:: Not supported by all drivers yet.</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the container doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">patch_container</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.delete"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.delete">[docs]</a>    <span class="k">def</span> <span class="nf">delete</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete this container.</span>

<span class="sd">        .. important:: All blob objects in the container must be deleted before</span>
<span class="sd">          the container itself can be deleted.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            container.delete()</span>
<span class="sd">            container in storage</span>
<span class="sd">            # False</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises IsNotEmptyError: If the container is not empty.</span>
<span class="sd">        :raises NotFoundError: If the container doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">delete_container</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.upload_blob"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.upload_blob">[docs]</a>    <span class="k">def</span> <span class="nf">upload_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">FileLike</span><span class="p">,</span> <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">cache_control</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">chunk_size</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">1024</span><span class="p">,</span>
                    <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Blob</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Upload a filename or file like object to a container.</span>

<span class="sd">        If `content_type` is `None`, Cloud Storage will attempt to guess the</span>
<span class="sd">        standard MIME type using the packages: `python-magic` or `mimetypes`. If</span>
<span class="sd">        that fails, Cloud Storage will leave it up to the storage backend to</span>
<span class="sd">        guess it.</span>

<span class="sd">        .. warning:: The effect of uploading to an existing blob depends on the</span>
<span class="sd">          “versioning” and “lifecycle” policies defined on the blob’s</span>
<span class="sd">          container. In the absence of those policies, upload will overwrite</span>
<span class="sd">          any existing contents.</span>

<span class="sd">        Basic example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            picture_blob = container.upload_blob(&#39;/path/picture.png&#39;)</span>
<span class="sd">            # &lt;Blob picture.png container-name S3&gt;</span>

<span class="sd">        Set Content-Type example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            with open(&#39;/path/resume.doc&#39;, &#39;rb&#39;) as resume_file:</span>
<span class="sd">                resume_blob = container.upload_blob(resume_file,</span>
<span class="sd">                    content_type=&#39;application/msword&#39;)</span>
<span class="sd">                resume_blob.content_type</span>
<span class="sd">                # &#39;application/msword&#39;</span>

<span class="sd">        Set Metadata and ACL:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            picture_file = open(&#39;/path/picture.png&#39;, &#39;rb)</span>
<span class="sd">                &#39;acl&#39;: &#39;public-read&#39;,</span>
<span class="sd">            meta_data = {</span>
<span class="sd">                &#39;owner-email&#39;: &#39;user.one@startup.com&#39;,</span>
<span class="sd">                &#39;owner-id&#39;: &#39;1&#39;</span>
<span class="sd">            }</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            picture_blob = container.upload_blob(picture_file,</span>
<span class="sd">                acl=&#39;public-read&#39;, meta_data=meta_data)</span>
<span class="sd">            picture_blob.meta_data</span>
<span class="sd">            # {owner-id&#39;: &#39;1&#39;, &#39;owner-email&#39;: &#39;user.one@startup.com&#39;}</span>

<span class="sd">        References:</span>

<span class="sd">        * `Boto 3: PUT Object</span>
<span class="sd">          &lt;http://boto3.readthedocs.io/en/latest/reference/services/s3.html#</span>
<span class="sd">          S3.Client.put_object&gt;`_</span>
<span class="sd">        * `Google Cloud Storage: upload_from_file / upload_from_filename</span>
<span class="sd">          &lt;https://googlecloudplatform.github.io/google-cloud-python/stable/</span>
<span class="sd">          storage-blobs.html&gt;`_</span>
<span class="sd">        * `Rackspace Cloud Files: Create or update object</span>
<span class="sd">          &lt;https://developer.rackspace.com/docs/cloud-files/v1/</span>
<span class="sd">          storage-api-reference/object-services-operations/</span>
<span class="sd">          #create-or-update-object&gt;`_</span>

<span class="sd">        :param filename: A file handle open for reading or the path to the file.</span>
<span class="sd">        :type filename: file or str</span>

<span class="sd">        :param acl: (optional) Blob canned Access Control List (ACL).</span>
<span class="sd">                    If `None`, defaults to storage backend default.</span>

<span class="sd">                    * private</span>
<span class="sd">                    * public-read</span>
<span class="sd">                    * public-read-write</span>
<span class="sd">                    * authenticated-read</span>
<span class="sd">                    * bucket-owner-read</span>
<span class="sd">                    * bucket-owner-full-control</span>
<span class="sd">                    * aws-exec-read (Amazon S3)</span>
<span class="sd">                    * project-private (Google Cloud Storage)</span>
<span class="sd">        :type acl: str or None</span>

<span class="sd">        :param blob_name: (optional) Override the blob&#39;s name. If not set, will</span>
<span class="sd">          default to the filename from path or filename of iterator object.</span>
<span class="sd">        :type blob_name: str or None</span>

<span class="sd">        :param meta_data: (optional) A map of metadata to store with the blob.</span>
<span class="sd">        :type meta_data: Dict[str, str] or None</span>

<span class="sd">        :param content_type: (optional) A standard MIME type describing the</span>
<span class="sd">          format of the object data.</span>
<span class="sd">        :type content_type: str or None</span>

<span class="sd">        :param content_disposition: (optional) Specifies presentational</span>
<span class="sd">          information for the blob.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param cache_control: (optional) Specify directives for caching</span>
<span class="sd">         mechanisms for the blob.</span>
<span class="sd">        :type cache_control: str or None</span>

<span class="sd">        :param chunk_size: (optional) Optional chunk size for streaming a</span>
<span class="sd">          transfer.</span>
<span class="sd">        :type chunk_size: int</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>
<span class="sd">        :type extra: Dict[str, str] or None</span>

<span class="sd">        :return: The uploaded blob.</span>
<span class="sd">        :rtype: Blob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">upload_blob</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="n">filename</span><span class="p">,</span>
                                       <span class="n">blob_name</span><span class="o">=</span><span class="n">blob_name</span><span class="p">,</span> <span class="n">acl</span><span class="o">=</span><span class="n">acl</span><span class="p">,</span>
                                       <span class="n">meta_data</span><span class="o">=</span><span class="n">meta_data</span><span class="p">,</span>
                                       <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span>
                                       <span class="n">content_disposition</span><span class="o">=</span><span class="n">content_disposition</span><span class="p">,</span>
                                       <span class="n">cache_control</span><span class="o">=</span><span class="n">cache_control</span><span class="p">,</span>
                                       <span class="n">chunk_size</span><span class="o">=</span><span class="n">chunk_size</span><span class="p">,</span> <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.get_blob"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.get_blob">[docs]</a>    <span class="k">def</span> <span class="nf">get_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Blob</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a blob object by name.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            picture_blob = container.get_blob(&#39;picture.png&#39;)</span>
<span class="sd">            # &lt;Blob picture.png container-name S3&gt;</span>

<span class="sd">        :param blob_name: The name of the blob to retrieve.</span>
<span class="sd">        :type blob_name: str</span>

<span class="sd">        :return: The blob object if it exists.</span>
<span class="sd">        :rtype: Blob</span>

<span class="sd">        :raise NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">get_blob</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob_name</span><span class="o">=</span><span class="n">blob_name</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.generate_upload_url"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.generate_upload_url">[docs]</a>    <span class="k">def</span> <span class="nf">generate_upload_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
                            <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">content_length</span><span class="p">:</span> <span class="n">ContentLength</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cache_control</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                            <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FormPost</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a signature and policy for uploading objects to this</span>
<span class="sd">        container.</span>

<span class="sd">        This method gives your website a way to upload objects to a container</span>
<span class="sd">        through a web form without giving the user direct write access.</span>

<span class="sd">        Basic example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            import requests</span>

<span class="sd">            picture_file = open(&#39;/path/picture.png&#39;, &#39;rb&#39;)</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            form_post = container.generate_upload_url(&#39;avatar-user-1.png&#39;)</span>

<span class="sd">            url = form_post[&#39;url&#39;]</span>
<span class="sd">            fields = form_post[&#39;fields&#39;]</span>
<span class="sd">            multipart_form_data = {</span>
<span class="sd">                &#39;file&#39;: (&#39;avatar.png&#39;, picture_file, &#39;image/png&#39;),</span>
<span class="sd">            }</span>

<span class="sd">            resp = requests.post(url, data=fields, files=multipart_form_data)</span>
<span class="sd">            # &lt;Response [201]&gt; or &lt;Response [204]&gt;</span>

<span class="sd">            avatar_blob = container.get_blob(&#39;avatar-user-1.png&#39;)</span>
<span class="sd">            # &lt;Blob avatar-user-1.png container-name S3&gt;</span>

<span class="sd">        Form example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            form_post = container.generate_upload_url(&#39;avatar-user-1.png&#39;)</span>

<span class="sd">            # Generate an upload form using the form fields and url</span>
<span class="sd">            fields = [</span>
<span class="sd">                &#39;&lt;input type=&quot;hidden&quot; name=&quot;{name}&quot; value=&quot;{value}&quot; /&gt;&#39;.format(</span>
<span class="sd">                    name=name, value=value)</span>
<span class="sd">                for name, value in form_post[&#39;fields&#39;].items()</span>
<span class="sd">            ]</span>

<span class="sd">            upload_form = [</span>
<span class="sd">                &#39;&lt;form action=&quot;{url}&quot; method=&quot;post&quot; &#39;</span>
<span class="sd">                &#39;enctype=&quot;multipart/form-data&quot;&gt;&#39;.format(</span>
<span class="sd">                    url=form_post[&#39;url&#39;]),</span>
<span class="sd">                *fields,</span>
<span class="sd">                &#39;&lt;input name=&quot;file&quot; type=&quot;file&quot; /&gt;&#39;,</span>
<span class="sd">                &#39;&lt;input type=&quot;submit&quot; value=&quot;Upload&quot; /&gt;&#39;,</span>
<span class="sd">                &#39;&lt;/form&gt;&#39;,</span>
<span class="sd">            ]</span>

<span class="sd">            print(&#39;\\n&#39;.join(upload_form))</span>

<span class="sd">        .. code-block:: html</span>

<span class="sd">            &lt;!--Google Cloud Storage Generated Form--&gt;</span>
<span class="sd">            &lt;form action=&quot;https://container-name.storage.googleapis.com&quot;</span>
<span class="sd">                  method=&quot;post&quot; enctype=&quot;multipart/form-data&quot;&gt;</span>
<span class="sd">            &lt;input type=&quot;hidden&quot; name=&quot;key&quot; value=&quot;avatar-user-1.png&quot; /&gt;</span>
<span class="sd">            &lt;input type=&quot;hidden&quot; name=&quot;bucket&quot; value=&quot;container-name&quot; /&gt;</span>
<span class="sd">            &lt;input type=&quot;hidden&quot; name=&quot;GoogleAccessId&quot; value=&quot;&lt;my-access-id&gt;&quot; /&gt;</span>
<span class="sd">            &lt;input type=&quot;hidden&quot; name=&quot;policy&quot; value=&quot;&lt;generated-policy&gt;&quot; /&gt;</span>
<span class="sd">            &lt;input type=&quot;hidden&quot; name=&quot;signature&quot; value=&quot;&lt;generated-sig&gt;&quot; /&gt;</span>
<span class="sd">            &lt;input name=&quot;file&quot; type=&quot;file&quot; /&gt;</span>
<span class="sd">            &lt;input type=&quot;submit&quot; value=&quot;Upload&quot; /&gt;</span>
<span class="sd">            &lt;/form&gt;</span>

<span class="sd">        Content-Disposition and Metadata example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            import requests</span>

<span class="sd">            params = {</span>
<span class="sd">                &#39;blob_name&#39;: &#39;avatar-user-1.png&#39;,</span>
<span class="sd">                &#39;meta_data&#39;: {</span>
<span class="sd">                    &#39;owner-id&#39;: &#39;1&#39;,</span>
<span class="sd">                    &#39;owner-email&#39;: &#39;user.one@startup.com&#39;</span>
<span class="sd">                },</span>
<span class="sd">                &#39;content_type&#39;: &#39;image/png&#39;,</span>
<span class="sd">                &#39;content_disposition&#39;: &#39;attachment; filename=attachment.png&#39;</span>
<span class="sd">            }</span>
<span class="sd">            form_post = container.generate_upload_url(**params)</span>

<span class="sd">            url = form_post[&#39;url&#39;]</span>
<span class="sd">            fields = form_post[&#39;fields&#39;]</span>
<span class="sd">            multipart_form_data = {</span>
<span class="sd">                &#39;file&#39;: open(&#39;/path/picture.png&#39;, &#39;rb&#39;),</span>
<span class="sd">            }</span>

<span class="sd">            resp = requests.post(url, data=fields, files=multipart_form_data)</span>
<span class="sd">            # &lt;Response [201]&gt; or &lt;Response [204]&gt;</span>

<span class="sd">            avatar_blob = container.get_blob(&#39;avatar-user-1.png&#39;)</span>
<span class="sd">            avatar_blob.content_disposition</span>
<span class="sd">            # &#39;attachment; filename=attachment.png&#39;</span>

<span class="sd">        References:</span>

<span class="sd">        * `Boto 3: S3.Client.generate_presigned_post</span>
<span class="sd">          &lt;http://boto3.readthedocs.io/en/latest/reference/services/s3.html#</span>
<span class="sd">          S3.Client.generate_presigned_post&gt;`_</span>
<span class="sd">        * `Google Cloud Storage: POST Object</span>
<span class="sd">          &lt;https://cloud.google.com/storage/docs/xml-api/post-object&gt;`_</span>
<span class="sd">        * `Rackspace Cloud Files: FormPost</span>
<span class="sd">          &lt;https://developer.rackspace.com/docs/cloud-files/v1/use-cases/</span>
<span class="sd">          public-access-to-your-cloud-files-account/#formpost&gt;`_</span>

<span class="sd">        :param blob_name: The blob&#39;s name, prefix, or `&#39;&#39;` if a user is</span>
<span class="sd">          providing a file name. Note, Rackspace Cloud Files only supports</span>
<span class="sd">          prefixes.</span>
<span class="sd">        :type blob_name: str or None</span>

<span class="sd">        :param expires: (optional) Expiration in seconds.</span>
<span class="sd">        :type expires: int</span>

<span class="sd">        :param acl: (optional) Container canned Access Control List (ACL).</span>
<span class="sd">                    If `None`, defaults to storage backend default.</span>

<span class="sd">                    * private</span>
<span class="sd">                    * public-read</span>
<span class="sd">                    * public-read-write</span>
<span class="sd">                    * authenticated-read</span>
<span class="sd">                    * bucket-owner-read</span>
<span class="sd">                    * bucket-owner-full-control</span>
<span class="sd">                    * aws-exec-read (Amazon S3)</span>
<span class="sd">                    * project-private (Google Cloud Storage)</span>
<span class="sd">        :type acl: str or None</span>

<span class="sd">        :param meta_data: (optional) A map of metadata to store with the blob.</span>
<span class="sd">        :type meta_data: Dict[str, str] or None</span>

<span class="sd">        :param content_disposition: (optional) Specifies presentational</span>
<span class="sd">          information for the blob.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param content_length: Specifies that uploaded files can only be</span>
<span class="sd">          between a certain size range in bytes: `(&lt;min&gt;, &lt;max&gt;)`.</span>
<span class="sd">        :type content_length: tuple[int, int] or None</span>

<span class="sd">        :param content_type: (optional) A standard MIME type describing the</span>
<span class="sd">          format of the object data.</span>
<span class="sd">        :type content_type: str or None</span>

<span class="sd">        :param cache_control: (optional) Specify directives for caching</span>
<span class="sd">         mechanisms for the blob.</span>
<span class="sd">        :type cache_control: str or None</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>

<span class="sd">                      * **success_action_redirect** *(str) --* A URL that users</span>
<span class="sd">                        are redirected to when an upload is successful. If you</span>
<span class="sd">                        do not provide a URL, Cloud Storage responds with the</span>
<span class="sd">                        status code that you specified in</span>
<span class="sd">                        `success_action_status`.</span>
<span class="sd">                      * **success_action_status** *(str) --* The status code</span>
<span class="sd">                        that you  want Cloud Storage to respond with when an</span>
<span class="sd">                        upload is successful. The default is `204`.</span>
<span class="sd">        :type extra: Dict[str, str] or None</span>

<span class="sd">        :return: Dictionary with URL and form fields (includes signature or</span>
<span class="sd">          policy).</span>
<span class="sd">        :rtype: Dict[Any, Any]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">generate_container_upload_url</span><span class="p">(</span>
            <span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">blob_name</span><span class="o">=</span><span class="n">blob_name</span><span class="p">,</span>
            <span class="n">expires</span><span class="o">=</span><span class="n">expires</span><span class="p">,</span> <span class="n">acl</span><span class="o">=</span><span class="n">acl</span><span class="p">,</span>
            <span class="n">meta_data</span><span class="o">=</span><span class="n">meta_data</span><span class="p">,</span>
            <span class="n">content_disposition</span><span class="o">=</span><span class="n">content_disposition</span><span class="p">,</span>
            <span class="n">content_length</span><span class="o">=</span><span class="n">content_length</span><span class="p">,</span>
            <span class="n">content_type</span><span class="o">=</span><span class="n">content_type</span><span class="p">,</span>
            <span class="n">cache_control</span><span class="o">=</span><span class="n">cache_control</span><span class="p">,</span>
            <span class="n">extra</span><span class="o">=</span><span class="n">extra</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.enable_cdn"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.enable_cdn">[docs]</a>    <span class="k">def</span> <span class="nf">enable_cdn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Enable Content Delivery Network (CDN) for this container.</span>

<span class="sd">        :return: True if successful or false if not supported.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">enable_container_cdn</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

<div class="viewcode-block" id="Container.disable_cdn"><a class="viewcode-back" href="../../api/container.html#cloudstorage.base.Container.disable_cdn">[docs]</a>    <span class="k">def</span> <span class="nf">disable_cdn</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Disable Content Delivery Network (CDN) for this container.</span>

<span class="sd">        :return: True if successful or false if not supported.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">disable_container_cdn</span><span class="p">(</span><span class="n">container</span><span class="o">=</span><span class="bp">self</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;Container </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">driver</span><span class="o">.</span><span class="n">name</span><span class="p">)</span></div>


<div class="viewcode-block" id="Driver"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver">[docs]</a><span class="k">class</span> <span class="nc">Driver</span><span class="p">(</span><span class="n">metaclass</span><span class="o">=</span><span class="n">abc</span><span class="o">.</span><span class="n">ABCMeta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Abstract Base Driver Class (:class:`abc.ABCMeta`) to derive from.</span>

<span class="sd">    .. todo::</span>

<span class="sd">        * Create driver abstract method to get total number of containers.</span>
<span class="sd">        * Create driver abstract method to get total number of blobs</span>
<span class="sd">          in a container.</span>
<span class="sd">        * Support for ACL permission grants.</span>
<span class="sd">        * Support for CORS.</span>
<span class="sd">        * Support for container / blob expiration (delete_at).</span>

<span class="sd">    :param key: (optional) API key, username, credentials file, or local</span>
<span class="sd">     directory.</span>
<span class="sd">    :type key: str or None</span>

<span class="sd">    :param secret: (optional) API secret key.</span>
<span class="sd">    :type secret: str</span>

<span class="sd">    :param region: (optional) Region to connect to.</span>
<span class="sd">    :type region: str</span>

<span class="sd">    :param kwargs: (optional) Extra options for the driver.</span>
<span class="sd">    :type kwargs: dict</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1">#: Unique `str` driver name.</span>
    <span class="n">name</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: str</span>

    <span class="c1">#: :mod:`hashlib` function `str` name used by driver.</span>
    <span class="n">hash_type</span> <span class="o">=</span> <span class="s1">&#39;md5&#39;</span>  <span class="c1"># type: str</span>

    <span class="c1">#: Unique `str` driver URL.</span>
    <span class="n">url</span> <span class="o">=</span> <span class="kc">None</span>  <span class="c1"># type: Optional[str]</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">key</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">secret</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">region</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                 <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="n">Dict</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">key</span> <span class="o">=</span> <span class="n">key</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">secret</span> <span class="o">=</span> <span class="n">secret</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">region</span> <span class="o">=</span> <span class="n">region</span>

<div class="viewcode-block" id="Driver.__contains__"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.__contains__">[docs]</a>    <span class="k">def</span> <span class="nf">__contains__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Determines whether or not the container exists.</span>

<span class="sd">        .. code: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>

<span class="sd">            container in storage</span>
<span class="sd">            # True</span>

<span class="sd">            &#39;container-name&#39; in storage</span>
<span class="sd">            # True</span>

<span class="sd">        :param container: Container or container name.</span>
<span class="sd">        :type container: cloudstorage.Container or str</span>

<span class="sd">        :return: True if the container exists.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">container</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">):</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="n">name</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">container_name</span> <span class="o">=</span> <span class="n">container</span>

        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">get_container</span><span class="p">(</span><span class="n">container_name</span><span class="o">=</span><span class="n">container_name</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">except</span> <span class="n">NotFoundError</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Driver.__iter__"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.__iter__">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">__iter__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s1">&#39;Container&#39;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all containers associated to the driver.</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            for container in storage:</span>
<span class="sd">                print(container.name)</span>

<span class="sd">        :yield: Iterator of all containers belonging to this driver.</span>
<span class="sd">        :yield type: Iterable[:class:`.Container`]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.__len__"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.__len__">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">__len__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The total number of containers in the driver.</span>

<span class="sd">        :return: Number of containers belonging to this driver.</span>
<span class="sd">        :rtype: int</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

    <span class="nd">@staticmethod</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_normalize_parameters</span><span class="p">(</span><span class="n">params</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">],</span>
                              <span class="n">normalizers</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Transform parameter key names to match syntax required by the driver.</span>

<span class="sd">        :param params: Dictionary of parameters for method.</span>
<span class="sd">        :type params: dict</span>

<span class="sd">        :param normalizers: Dictionary mapping of key names.</span>
<span class="sd">        :type normalizers: dict</span>

<span class="sd">        :return: Dictionary of transformed key names.</span>

<span class="sd">            ::</span>

<span class="sd">                {</span>
<span class="sd">                    &#39;&lt;key-name&gt;&#39;: `&lt;Mapped-Name&gt;`</span>
<span class="sd">                    &#39;meta_data&#39;: &#39;Metadata&#39;,</span>
<span class="sd">                    &#39;content_disposition&#39;: &#39;ContentDisposition&#39;</span>
<span class="sd">                }</span>

<span class="sd">        :rtype: Dict[str, str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

    <span class="nd">@property</span>
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">regions</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;List of supported regions for this driver.</span>

<span class="sd">        :return: List of region strings.</span>
<span class="sd">        :rtype: list[str]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span>

<div class="viewcode-block" id="Driver.create_container"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.create_container">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">create_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                         <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Create a new container.</span>

<span class="sd">        For example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.create_container(&#39;container-name&#39;)</span>
<span class="sd">            # &lt;Container container-name driver-name&gt;</span>

<span class="sd">        :param container_name: The container name to create.</span>
<span class="sd">        :type container_name: str</span>

<span class="sd">        :param acl: (optional) Container canned Access Control List (ACL).</span>
<span class="sd">                    If `None`, defaults to storage backend default.</span>

<span class="sd">                    * private</span>
<span class="sd">                    * public-read</span>
<span class="sd">                    * public-read-write</span>
<span class="sd">                    * authenticated-read</span>
<span class="sd">                    * bucket-owner-read</span>
<span class="sd">                    * bucket-owner-full-control</span>
<span class="sd">                    * aws-exec-read (Amazon S3)</span>
<span class="sd">                    * project-private (Google Cloud Storage)</span>
<span class="sd">                    * container-public-access (Microsoft Azure Storage)</span>
<span class="sd">                    * blob-public-access (Microsoft Azure Storage)</span>
<span class="sd">        :type acl: str or None</span>

<span class="sd">        :param meta_data: (optional) A map of metadata to store with the</span>
<span class="sd">          container.</span>
<span class="sd">        :type meta_data: Dict[str, str] or None</span>

<span class="sd">        :return: The newly created or existing container.</span>
<span class="sd">        :rtype: :class:`.Container`</span>

<span class="sd">        :raises CloudStorageError: If the container name contains invalid</span>
<span class="sd">          characters.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.get_container"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.get_container">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Container&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a container by name.</span>

<span class="sd">        For example:</span>

<span class="sd">        .. code-block:: python</span>

<span class="sd">            container = storage.get_container(&#39;container-name&#39;)</span>
<span class="sd">            # &lt;Container container-name driver-name&gt;</span>

<span class="sd">        :param container_name: The name of the container to retrieve.</span>
<span class="sd">        :type container_name: str</span>

<span class="sd">        :return: The container if it exists.</span>
<span class="sd">        :rtype: :class:`.Container`</span>

<span class="sd">        :raise NotFoundError: If the container doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.patch_container"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.patch_container">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">patch_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Saves all changed attributes for the container.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Container.save`.</span>

<span class="sd">        :param container: A container instance.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the container doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.delete_container"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.delete_container">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_container</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Delete this container.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Container.delete`.</span>

<span class="sd">        :param container: A container instance.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises IsNotEmptyError: If the container is not empty.</span>
<span class="sd">        :raises NotFoundError: If the container doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.container_cdn_url"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.container_cdn_url">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">container_cdn_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The Content Delivery Network URL for this container.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :attr:`.Container.cdn_url`.</span>

<span class="sd">        :return: The CDN URL for this container.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.enable_container_cdn"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.enable_container_cdn">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">enable_container_cdn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;(Optional) Enable Content Delivery Network (CDN) for the container.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :meth:`.Container.enable_cdn`.</span>

<span class="sd">        :param container: A container instance.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :return: True if successful or false if not supported.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">FEATURE_NOT_SUPPORTED</span><span class="p">,</span> <span class="s1">&#39;enable_container_cdn&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Driver.disable_container_cdn"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.disable_container_cdn">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">disable_container_cdn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;(Optional) Disable Content Delivery Network (CDN) on the container.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :meth:`.Container.disable_cdn`.</span>

<span class="sd">        :param container: A container instance.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :return: True if successful or false if not supported.</span>
<span class="sd">        :rtype: bool</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">messages</span><span class="o">.</span><span class="n">FEATURE_NOT_SUPPORTED</span><span class="p">,</span> <span class="s1">&#39;disable_container_cdn&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="Driver.upload_blob"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.upload_blob">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">upload_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="p">:</span> <span class="n">FileLike</span><span class="p">,</span>
                    <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="n">cache_control</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">chunk_size</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Blob&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Upload a filename or file like object to a container.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :meth:`.Container.upload_blob`.</span>

<span class="sd">        :param container: The container to upload the blob to.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :param filename: A file handle open for reading or the path to the file.</span>
<span class="sd">        :type filename: file or str</span>

<span class="sd">        :param acl: (optional) Blob canned Access Control List (ACL).</span>
<span class="sd">        :type acl: str or None</span>

<span class="sd">        :param blob_name: (optional) Override the blob&#39;s name. If not set, will</span>
<span class="sd">          default to the filename from path or filename of iterator object.</span>
<span class="sd">        :type blob_name: str or None</span>

<span class="sd">        :param meta_data: (optional) A map of metadata to store with the blob.</span>
<span class="sd">        :type meta_data: Dict[str, str] or None</span>

<span class="sd">        :param content_type: (optional) A standard MIME type describing the</span>
<span class="sd">          format of the object data.</span>
<span class="sd">        :type content_type: str or None</span>

<span class="sd">        :param content_disposition: (optional) Specifies presentational</span>
<span class="sd">          information for the blob.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param cache_control: (optional) Specify directives for caching</span>
<span class="sd">         mechanisms for the blob.</span>
<span class="sd">        :type cache_control: str or None</span>

<span class="sd">        :param chunk_size: (optional) Optional chunk size for streaming a</span>
<span class="sd">          transfer.</span>
<span class="sd">        :type chunk_size: int</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>
<span class="sd">        :type extra: Dict[str, str] or None</span>

<span class="sd">        :return: The uploaded blob.</span>
<span class="sd">        :rtype: Blob</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.get_blob"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.get_blob">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">,</span> <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="s1">&#39;Blob&#39;</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Get a blob object by name.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Blob.get_blob`.</span>

<span class="sd">        :param container: The container that holds the blob.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :param blob_name: The name of the blob to retrieve.</span>
<span class="sd">        :type blob_name: str</span>

<span class="sd">        :return: The blob object if it exists.</span>
<span class="sd">        :rtype: Blob</span>

<span class="sd">        :raise NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.get_blobs"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.get_blobs">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">get_blobs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Iterable</span><span class="p">[</span><span class="s1">&#39;Blob&#39;</span><span class="p">]:</span>
        <span class="sd">&quot;&quot;&quot;Get all blobs associated to the container.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Blob.__iter__`.</span>

<span class="sd">        :param container: A container instance.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :return: Iterable of all blobs belonging to this container.</span>
<span class="sd">        :rtype: Iterable{Blob]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.download_blob"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.download_blob">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">download_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="s1">&#39;Blob&#39;</span><span class="p">,</span>
                      <span class="n">destination</span><span class="p">:</span> <span class="n">FileLike</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Download the contents of this blob into a file-like object or into</span>
<span class="sd">        a named file.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Blob.download`.</span>

<span class="sd">        :param blob: The blob object to download.</span>
<span class="sd">        :type blob: Blob</span>

<span class="sd">        :param destination: A file handle to which to write the blob’s data or</span>
<span class="sd">          a filename to be passed to `open`.</span>
<span class="sd">        :type destination: file or str</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.patch_blob"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.patch_blob">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">patch_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="s1">&#39;Blob&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Saves all changed attributes for this blob.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Blob.update`.</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raises NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.delete_blob"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.delete_blob">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">delete_blob</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="s1">&#39;Blob&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Deletes a blob from storage.</span>

<span class="sd">        .. important:: This class method is called by :meth:`.Blob.delete`.</span>

<span class="sd">        :param blob: The blob to delete.</span>
<span class="sd">        :type blob: Blob</span>

<span class="sd">        :return: NoneType</span>
<span class="sd">        :rtype: None</span>

<span class="sd">        :raise NotFoundError: If the blob object doesn&#39;t exist.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.blob_cdn_url"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.blob_cdn_url">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">blob_cdn_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="s1">&#39;Blob&#39;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;The Content Delivery Network URL for the blob.</span>

<span class="sd">        .. important:: This class method is called by :attr:`.Blob.cdn_url`.</span>

<span class="sd">        :param blob: The public blob object.</span>
<span class="sd">        :type blob: Blob</span>

<span class="sd">        :return: The CDN URL for the blob.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.generate_container_upload_url"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.generate_container_upload_url">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">generate_container_upload_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">container</span><span class="p">:</span> <span class="s1">&#39;Container&#39;</span><span class="p">,</span>
                                      <span class="n">blob_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
                                      <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span> <span class="n">acl</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">meta_data</span><span class="p">:</span> <span class="n">MetaData</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">content_length</span><span class="p">:</span> <span class="n">ContentLength</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">content_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">cache_control</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                      <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">FormPost</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generate a signature and policy for uploading objects to the</span>
<span class="sd">        container.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :meth:`.Container.generate_upload_url`.</span>

<span class="sd">        :param container: A container to upload the blob object to.</span>
<span class="sd">        :type container: :class:`.Container`</span>

<span class="sd">        :param blob_name: The blob&#39;s name, prefix, or `&#39;&#39;` if a user is</span>
<span class="sd">          providing a file name. Note, Rackspace Cloud Files only supports</span>
<span class="sd">          prefixes.</span>
<span class="sd">        :type blob_name: str or None</span>

<span class="sd">        :param expires: (optional) Expiration in seconds.</span>
<span class="sd">        :type expires: int</span>

<span class="sd">        :param acl: (optional) Container canned Access Control List (ACL).</span>
<span class="sd">        :type acl: str or None</span>

<span class="sd">        :param meta_data: (optional) A map of metadata to store with the blob.</span>
<span class="sd">        :type meta_data: Dict[Any, Any] or None</span>

<span class="sd">        :param content_disposition: (optional) Specifies presentational</span>
<span class="sd">          information for the blob.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param content_type: (optional) A standard MIME type describing the</span>
<span class="sd">          format of the object data.</span>
<span class="sd">        :type content_type: str or None</span>

<span class="sd">        :param content_length: Specifies that uploaded files can only be</span>
<span class="sd">          between a certain size range in bytes.</span>
<span class="sd">        :type content_length: tuple[int, int] or None</span>

<span class="sd">        :param cache_control: (optional) Specify directives for caching</span>
<span class="sd">         mechanisms for the blob.</span>
<span class="sd">        :type cache_control: str or None</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>
<span class="sd">        :type extra: Dict[Any, Any] or None</span>

<span class="sd">        :return: Dictionary with URL and form fields (includes signature or</span>
<span class="sd">          policy) or header fields.</span>
<span class="sd">        :rtype: Dict[Any, Any]</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

<div class="viewcode-block" id="Driver.generate_blob_download_url"><a class="viewcode-back" href="../../api/driver.html#cloudstorage.base.Driver.generate_blob_download_url">[docs]</a>    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">generate_blob_download_url</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">blob</span><span class="p">:</span> <span class="s1">&#39;Blob&#39;</span><span class="p">,</span> <span class="n">expires</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">3600</span><span class="p">,</span>
                                   <span class="n">method</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s1">&#39;GET&#39;</span><span class="p">,</span>
                                   <span class="n">content_disposition</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
                                   <span class="n">extra</span><span class="p">:</span> <span class="n">ExtraOptions</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sd">&quot;&quot;&quot;Generates a signed URL for this blob.</span>

<span class="sd">        .. important:: This class method is called by</span>
<span class="sd">          :meth:`.Blob.generate_download_url`.</span>

<span class="sd">        :param blob: The blob to download with a signed URL.</span>
<span class="sd">        :type blob: Blob</span>

<span class="sd">        :param expires: (optional) Expiration in seconds.</span>
<span class="sd">        :type expires: int</span>

<span class="sd">        :param method: (optional) HTTP request method. Defaults to `GET`.</span>
<span class="sd">        :type method: str</span>

<span class="sd">        :param content_disposition: (optional) Sets the Content-Disposition</span>
<span class="sd">          header of the response.</span>
<span class="sd">        :type content_disposition: str or None</span>

<span class="sd">        :param extra: (optional) Extra parameters for the request.</span>
<span class="sd">        :type extra: Dict[Any, Any] or None</span>

<span class="sd">        :return: Pre-signed URL for downloading a blob.</span>
<span class="sd">        :rtype: str</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>

    <span class="k">def</span> <span class="nf">__repr__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="p">:</span>
            <span class="k">return</span> <span class="s1">&#39;&lt;Driver: </span><span class="si">%s</span><span class="s1"> </span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">region</span><span class="p">)</span>

        <span class="k">return</span> <span class="s1">&#39;&lt;Driver: </span><span class="si">%s</span><span class="s1">&gt;&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span>

    <span class="n">_POST_OBJECT_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_GET_OBJECT_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_PUT_OBJECT_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_DELETE_OBJECT_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>

    <span class="n">_POST_CONTAINER_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_GET_CONTAINER_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_PUT_CONTAINER_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span>
    <span class="n">_DELETE_CONTAINER_KEYS</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># type: Dict</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright Copyright 2017-2018 Scott Werner.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.6',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>