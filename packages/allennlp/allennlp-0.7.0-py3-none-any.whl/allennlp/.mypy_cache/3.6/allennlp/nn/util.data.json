{".class": "MypyFile", "_fullname": "allennlp.nn.util", "_name": null, "is_stub": false, "names": {".class": "SymbolTable", "Any": {".class": "SymbolTableNode", "cross_ref": "typing.Any", "kind": "Gdef"}, "Callable": {".class": "SymbolTableNode", "cross_ref": "typing.Callable", "kind": "Gdef"}, "ConfigurationError": {".class": "SymbolTableNode", "cross_ref": "allennlp.common.checks.ConfigurationError", "kind": "Gdef"}, "Dict": {".class": "SymbolTableNode", "cross_ref": "builtins.dict", "kind": "Gdef", "normalized": true}, "List": {".class": "SymbolTableNode", "cross_ref": "builtins.list", "kind": "Gdef", "normalized": true}, "Optional": {".class": "SymbolTableNode", "cross_ref": "typing.Optional", "kind": "Gdef"}, "Tuple": {".class": "SymbolTableNode", "cross_ref": "typing.Tuple", "kind": "Gdef"}, "Union": {".class": "SymbolTableNode", "cross_ref": "typing.Union", "kind": "Gdef"}, "Variable": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready", "is_suppressed_import"], "fullname": "allennlp.nn.util.Variable", "name": "Variable", "type": {".class": "AnyType"}}}, "__doc__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "allennlp.nn.util.__doc__", "name": "__doc__", "type": "builtins.str"}}, "__file__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "allennlp.nn.util.__file__", "name": "__file__", "type": "builtins.str"}}, "__name__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "allennlp.nn.util.__name__", "name": "__name__", "type": "builtins.str"}}, "__package__": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready"], "fullname": "allennlp.nn.util.__package__", "name": "__package__", "type": "builtins.str"}}, "_get_combination": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["combination", "tensors"], "flags": [], "fullname": "allennlp.nn.util._get_combination", "name": "_get_combination", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["combination", "tensors"], "arg_types": ["builtins.str", {".class": "Instance", "args": [{".class": "AnyType"}], "type_ref": "builtins.list"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"_get_combination\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "_get_combination_dim": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["combination", "tensor_dims"], "flags": [], "fullname": "allennlp.nn.util._get_combination_dim", "name": "_get_combination_dim", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["combination", "tensor_dims"], "arg_types": ["builtins.str", {".class": "Instance", "args": ["builtins.int"], "type_ref": "builtins.list"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"_get_combination_dim\"", "ret_type": "builtins.int", "variables": []}}}, "_last_dimension_applicator": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["function_to_apply", "tensor", "mask"], "flags": [], "fullname": "allennlp.nn.util._last_dimension_applicator", "name": "_last_dimension_applicator", "type": {".class": "CallableType", "arg_kinds": [0, 0, 1], "arg_names": ["function_to_apply", "tensor", "mask"], "arg_types": [{".class": "CallableType", "arg_kinds": [0, 0], "arg_names": [null, null], "arg_types": [{".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "AnyType"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": null, "ret_type": {".class": "AnyType"}, "variables": []}, {".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "AnyType"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"_last_dimension_applicator\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "add_sentence_boundary_token_ids": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 0], "arg_names": ["tensor", "mask", "sentence_begin_token", "sentence_end_token"], "flags": [], "fullname": "allennlp.nn.util.add_sentence_boundary_token_ids", "name": "add_sentence_boundary_token_ids", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 0], "arg_names": ["tensor", "mask", "sentence_begin_token", "sentence_end_token"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}, {".class": "AnyType"}, {".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"add_sentence_boundary_token_ids\"", "ret_type": {".class": "TupleType", "fallback": {".class": "Instance", "args": [{".class": "AnyType"}], "type_ref": "builtins.tuple"}, "implicit": false, "items": [{".class": "AnyType"}, {".class": "AnyType"}]}, "variables": []}}}, "arrays_to_variables": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1, 1], "arg_names": ["data_structure", "cuda_device", "add_batch_dimension", "for_training"], "flags": [], "fullname": "allennlp.nn.util.arrays_to_variables", "name": "arrays_to_variables", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1, 1], "arg_names": ["data_structure", "cuda_device", "add_batch_dimension", "for_training"], "arg_types": [{".class": "Instance", "args": ["builtins.str", {".class": "UnionType", "items": [{".class": "Instance", "args": [{".class": "AnyType"}, {".class": "AnyType"}], "type_ref": "builtins.dict"}, {".class": "AnyType"}]}], "type_ref": "builtins.dict"}, "builtins.int", "builtins.bool", "builtins.bool"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"arrays_to_variables\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "batched_index_select": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["target", "indices", "flattened_indices"], "flags": [], "fullname": "allennlp.nn.util.batched_index_select", "name": "batched_index_select", "type": {".class": "CallableType", "arg_kinds": [0, 0, 1], "arg_names": ["target", "indices", "flattened_indices"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "AnyType"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"batched_index_select\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "bucket_values": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["distances", "num_identity_buckets", "num_total_buckets"], "flags": [], "fullname": "allennlp.nn.util.bucket_values", "name": "bucket_values", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1], "arg_names": ["distances", "num_identity_buckets", "num_total_buckets"], "arg_types": [{".class": "AnyType"}, "builtins.int", "builtins.int"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"bucket_values\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "combine_tensors": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["combination", "tensors"], "flags": [], "fullname": "allennlp.nn.util.combine_tensors", "name": "combine_tensors", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["combination", "tensors"], "arg_types": ["builtins.str", {".class": "Instance", "args": [{".class": "AnyType"}], "type_ref": "builtins.list"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"combine_tensors\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "device_mapping": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["cuda_device"], "flags": [], "fullname": "allennlp.nn.util.device_mapping", "name": "device_mapping", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["cuda_device"], "arg_types": ["builtins.int"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"device_mapping\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "flatten_and_batch_shift_indices": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["indices", "sequence_length"], "flags": [], "fullname": "allennlp.nn.util.flatten_and_batch_shift_indices", "name": "flatten_and_batch_shift_indices", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["indices", "sequence_length"], "arg_types": [{".class": "AnyType"}, "builtins.int"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"flatten_and_batch_shift_indices\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "flattened_index_select": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["target", "indices"], "flags": [], "fullname": "allennlp.nn.util.flattened_index_select", "name": "flattened_index_select", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["target", "indices"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"flattened_index_select\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "get_combined_dim": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["combination", "tensor_dims"], "flags": [], "fullname": "allennlp.nn.util.get_combined_dim", "name": "get_combined_dim", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["combination", "tensor_dims"], "arg_types": ["builtins.str", {".class": "Instance", "args": ["builtins.int"], "type_ref": "builtins.list"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_combined_dim\"", "ret_type": "builtins.int", "variables": []}}}, "get_dropout_mask": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["dropout_probability", "tensor_for_masking"], "flags": [], "fullname": "allennlp.nn.util.get_dropout_mask", "name": "get_dropout_mask", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["dropout_probability", "tensor_for_masking"], "arg_types": ["builtins.float", {".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_dropout_mask\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "get_lengths_from_binary_sequence_mask": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["mask"], "flags": [], "fullname": "allennlp.nn.util.get_lengths_from_binary_sequence_mask", "name": "get_lengths_from_binary_sequence_mask", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["mask"], "arg_types": [{".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_lengths_from_binary_sequence_mask\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "get_mask_from_sequence_lengths": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["sequence_lengths", "max_length"], "flags": [], "fullname": "allennlp.nn.util.get_mask_from_sequence_lengths", "name": "get_mask_from_sequence_lengths", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["sequence_lengths", "max_length"], "arg_types": [{".class": "AnyType"}, "builtins.int"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_mask_from_sequence_lengths\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "get_range_vector": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["size", "is_cuda"], "flags": [], "fullname": "allennlp.nn.util.get_range_vector", "name": "get_range_vector", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["size", "is_cuda"], "arg_types": ["builtins.int", "builtins.bool"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_range_vector\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "get_text_field_mask": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["text_field_tensors"], "flags": [], "fullname": "allennlp.nn.util.get_text_field_mask", "name": "get_text_field_mask", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["text_field_tensors"], "arg_types": [{".class": "Instance", "args": ["builtins.str", {".class": "AnyType"}], "type_ref": "builtins.dict"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"get_text_field_mask\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "last_dim_log_softmax": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1], "arg_names": ["tensor", "mask"], "flags": [], "fullname": "allennlp.nn.util.last_dim_log_softmax", "name": "last_dim_log_softmax", "type": {".class": "CallableType", "arg_kinds": [0, 1], "arg_names": ["tensor", "mask"], "arg_types": [{".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "AnyType"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"last_dim_log_softmax\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "last_dim_softmax": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1], "arg_names": ["tensor", "mask"], "flags": [], "fullname": "allennlp.nn.util.last_dim_softmax", "name": "last_dim_softmax", "type": {".class": "CallableType", "arg_kinds": [0, 1], "arg_names": ["tensor", "mask"], "arg_types": [{".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "AnyType"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"last_dim_softmax\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "logger": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": [], "fullname": "allennlp.nn.util.logger", "name": "logger", "type": "logging.Logger"}}, "logging": {".class": "SymbolTableNode", "cross_ref": "logging", "kind": "ModuleRef"}, "logsumexp": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 1, 1], "arg_names": ["tensor", "dim", "keepdim"], "flags": [], "fullname": "allennlp.nn.util.logsumexp", "name": "logsumexp", "type": {".class": "CallableType", "arg_kinds": [0, 1, 1], "arg_names": ["tensor", "dim", "keepdim"], "arg_types": [{".class": "AnyType"}, "builtins.int", "builtins.bool"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"logsumexp\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "masked_log_softmax": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["vector", "mask"], "flags": [], "fullname": "allennlp.nn.util.masked_log_softmax", "name": "masked_log_softmax", "type": null}}, "masked_softmax": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["vector", "mask"], "flags": [], "fullname": "allennlp.nn.util.masked_softmax", "name": "masked_softmax", "type": null}}, "math": {".class": "SymbolTableNode", "cross_ref": "math", "kind": "ModuleRef"}, "numpy": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready", "is_suppressed_import"], "fullname": "allennlp.nn.util.numpy", "name": "numpy", "type": {".class": "AnyType"}}}, "ones_like": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0], "arg_names": ["tensor"], "flags": [], "fullname": "allennlp.nn.util.ones_like", "name": "ones_like", "type": {".class": "CallableType", "arg_kinds": [0], "arg_names": ["tensor"], "arg_types": [{".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"ones_like\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "replace_masked_values": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0], "arg_names": ["tensor", "mask", "replace_with"], "flags": [], "fullname": "allennlp.nn.util.replace_masked_values", "name": "replace_masked_values", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0], "arg_names": ["tensor", "mask", "replace_with"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}, "builtins.float"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"replace_masked_values\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "sequence_cross_entropy_with_logits": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 0, 1], "arg_names": ["logits", "targets", "weights", "batch_average"], "flags": [], "fullname": "allennlp.nn.util.sequence_cross_entropy_with_logits", "name": "sequence_cross_entropy_with_logits", "type": {".class": "CallableType", "arg_kinds": [0, 0, 0, 1], "arg_names": ["logits", "targets", "weights", "batch_average"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}, {".class": "AnyType"}, "builtins.bool"], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"sequence_cross_entropy_with_logits\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "sort_batch_by_length": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["tensor", "sequence_lengths"], "flags": [], "fullname": "allennlp.nn.util.sort_batch_by_length", "name": "sort_batch_by_length", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["tensor", "sequence_lengths"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"sort_batch_by_length\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "torch": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "Var", "flags": ["is_ready", "is_suppressed_import"], "fullname": "allennlp.nn.util.torch", "name": "torch", "type": {".class": "AnyType"}}}, "viterbi_decode": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0, 1], "arg_names": ["tag_sequence", "transition_matrix", "tag_observations"], "flags": [], "fullname": "allennlp.nn.util.viterbi_decode", "name": "viterbi_decode", "type": {".class": "CallableType", "arg_kinds": [0, 0, 1], "arg_names": ["tag_sequence", "transition_matrix", "tag_observations"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}, {".class": "UnionType", "items": [{".class": "Instance", "args": ["builtins.int"], "type_ref": "builtins.list"}, {".class": "NoneTyp"}]}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"viterbi_decode\"", "ret_type": {".class": "AnyType"}, "variables": []}}}, "weighted_sum": {".class": "SymbolTableNode", "kind": "Gdef", "node": {".class": "FuncDef", "arg_kinds": [0, 0], "arg_names": ["matrix", "attention"], "flags": [], "fullname": "allennlp.nn.util.weighted_sum", "name": "weighted_sum", "type": {".class": "CallableType", "arg_kinds": [0, 0], "arg_names": ["matrix", "attention"], "arg_types": [{".class": "AnyType"}, {".class": "AnyType"}], "bound_args": [], "fallback": "builtins.function", "implicit": false, "is_classmethod_class": false, "is_ellipsis_args": false, "name": "\"weighted_sum\"", "ret_type": {".class": "AnyType"}, "variables": []}}}}, "path": "/home/mattg/clone/allennlp/allennlp/nn/util.py"}
