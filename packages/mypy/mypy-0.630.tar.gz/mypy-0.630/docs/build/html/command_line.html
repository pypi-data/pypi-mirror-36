
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>The mypy command line &#8212; Mypy 0.630+dev-734a166d380bfb0de05ce0e3c61dc7e675898e9c-dirty documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The mypy configuration file" href="config_file.html" />
    <link rel="prev" title="Running mypy and managing imports" href="running_mypy.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="config_file.html" title="The mypy configuration file"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="running_mypy.html" title="Running mypy and managing imports"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Mypy 0.630+dev-734a166d380bfb0de05ce0e3c61dc7e675898e9c-dirty documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="the-mypy-command-line">
<span id="command-line"></span><h1>The mypy command line<a class="headerlink" href="#the-mypy-command-line" title="Permalink to this headline">¶</a></h1>
<p>This section documents mypy’s command line interface. You can view
a quick summary of the available flags by running <code class="docutils literal notranslate"><span class="pre">mypy</span> <span class="pre">--help</span></code>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Command line flags are liable to change between releases.</p>
</div>
<div class="section" id="specifying-what-to-type-check">
<h2>Specifying what to type check<a class="headerlink" href="#specifying-what-to-type-check" title="Permalink to this headline">¶</a></h2>
<p>By default, you can specify what code you want mypy to type check
by passing in the paths to what you want to have type checked:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ mypy foo.py bar.py some_directory
</pre></div>
</div>
<p>Note that directories are checked recursively.</p>
<p>Mypy also lets you specify what code to type check in several other
ways. A short summary of the relevant flags is included below:
for full details, see <a class="reference internal" href="running_mypy.html#running-mypy"><span class="std std-ref">Running mypy and managing imports</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">-m</span> <span class="pre">MODULE</span></code>, <code class="docutils literal notranslate"><span class="pre">--module</span> <span class="pre">MODULE</span></code></dt>
<dd><p class="first">Asks mypy to type check the provided module. This flag may be
repeated multiple times.</p>
<p class="last">Mypy <em>will not</em> recursively type check any submodules of the provided
module.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-p</span> <span class="pre">PACKAGE</span></code>, <code class="docutils literal notranslate"><span class="pre">--package</span> <span class="pre">PACKAGE</span></code></dt>
<dd><p class="first">Asks mypy to type check the provided package. This flag may be
repeated multiple times.</p>
<p class="last">Mypy <em>will</em> recursively type check any submodules of the provided
package. This flag is identical to <code class="docutils literal notranslate"><span class="pre">-module</span></code> apart from this
behavior.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">PROGRAM_TEXT</span></code>, <code class="docutils literal notranslate"><span class="pre">--command</span> <span class="pre">PROGRAM_TEXT</span></code></dt>
<dd>Asks mypy to type check the provided string as a program.</dd>
</dl>
</div>
<div class="section" id="config-file">
<span id="config-file-flag"></span><h2>Config file<a class="headerlink" href="#config-file" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--config-file</span> <span class="pre">CONFIG_FILE</span></code></dt>
<dd><p class="first">This flag makes mypy read configuration settings from the given file.</p>
<p>By default settings are read from <code class="docutils literal notranslate"><span class="pre">mypy.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">setup.cfg</span></code> in the
current directory, or <code class="docutils literal notranslate"><span class="pre">.mypy.ini</span></code> in the user’s home directory.
Settings override mypy’s built-in defaults and command line flags
can override settings.</p>
<p class="last">See <a class="reference internal" href="config_file.html#config-file"><span class="std std-ref">The mypy configuration file</span></a> for the syntax of configuration files.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--warn-unused-configs</span></code></dt>
<dd>This flag makes mypy warn about unused <code class="docutils literal notranslate"><span class="pre">[mypy-&lt;pattern&gt;]</span></code> config
file sections.</dd>
</dl>
</div>
<div class="section" id="import-discovery">
<span id="id1"></span><h2>Import discovery<a class="headerlink" href="#import-discovery" title="Permalink to this headline">¶</a></h2>
<p>The following flags customize how exactly mypy discovers and follows
imports.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--ignore-missing-imports</span></code></dt>
<dd><p class="first">This flag makes mypy ignore all missing imports. It is equivalent
to adding <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> comments to all unresolved imports
within your codebase.</p>
<p>Note that this flag does <em>not</em> suppress errors about missing names
in successfully resolved modules. For example, if one has the
following files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package</span><span class="o">/</span><span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
<span class="n">package</span><span class="o">/</span><span class="n">mod</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Then mypy will generate the following errors with <code class="docutils literal notranslate"><span class="pre">--ignore-missing-imports</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">package.unknown</span>      <span class="c1"># No error, ignored</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">package</span><span class="o">.</span><span class="n">unknown</span><span class="o">.</span><span class="n">func</span><span class="p">()</span>  <span class="c1"># OK. &#39;func&#39; is assumed to be of type &#39;Any&#39;</span>

<span class="kn">from</span> <span class="nn">package</span> <span class="kn">import</span> <span class="n">unknown</span>          <span class="c1"># No error, ignored</span>
<span class="kn">from</span> <span class="nn">package.mod</span> <span class="kn">import</span> <span class="n">NonExisting</span>  <span class="c1"># Error: Module has no attribute &#39;NonExisting&#39;</span>
</pre></div>
</div>
<p class="last">For more details, see <a class="reference internal" href="running_mypy.html#ignore-missing-imports"><span class="std std-ref">Missing imports</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--follow-imports</span> <span class="pre">{normal,silent,skip,error}</span></code></dt>
<dd><p class="first">This flag adjusts how mypy follows imported modules that were not
explicitly passed in via the command line.</p>
<p class="last">The default option is <code class="docutils literal notranslate"><span class="pre">normal</span></code>: mypy will follow and type check
all modules. For more information on what the other options do,
see <a class="reference internal" href="running_mypy.html#follow-imports"><span class="std std-ref">Following imports</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--python-executable</span> <span class="pre">EXECUTABLE</span></code></dt>
<dd><p class="first">This flag will have mypy collect type information from <a class="reference external" href="https://www.python.org/dev/peps/pep-0561/">PEP 561</a>
compliant packages installed for the Python executable <code class="docutils literal notranslate"><span class="pre">EXECUTABLE</span></code>.
If not provided, mypy will use PEP 561 compliant packages installed for
the Python executable running mypy.</p>
<p class="last">See <a class="reference internal" href="installed_packages.html#installed-packages"><span class="std std-ref">Using installed packages</span></a> for more on making PEP 561 compliant packages.
This flag will attempt to set <code class="docutils literal notranslate"><span class="pre">--python-version</span></code> if not already set.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--no-site-packages</span></code></dt>
<dd><p class="first">This flag will disable searching for <a class="reference external" href="https://www.python.org/dev/peps/pep-0561/">PEP 561</a> compliant packages. This
will also disable searching for a usable Python executable.</p>
<p class="last">Use this  flag if mypy cannot find a Python executable for the version of
Python being checked, and you don’t need to use PEP 561 typed packages.
Otherwise, use <code class="docutils literal notranslate"><span class="pre">--python-executable</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--no-silence-site-packages</span></code></dt>
<dd>By default, mypy will suppress any error messages generated within PEP 561
compliant packages. Adding this flag will disable this behavior.</dd>
</dl>
</div>
<div class="section" id="platform-configuration">
<span id="id2"></span><h2>Platform configuration<a class="headerlink" href="#platform-configuration" title="Permalink to this headline">¶</a></h2>
<p>By default, mypy will assume that you intend to run your code using the same
operating system and Python version you are using to run mypy itself. The
following flags let you modify this behavior.</p>
<p>For more information on how to use these flags, see <a class="reference internal" href="common_issues.html#version-and-platform-checks"><span class="std std-ref">Python version and system platform checks</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--python-version</span> <span class="pre">X.Y</span></code></dt>
<dd><p class="first">This flag will make mypy type check your code as if it were
run under Python version X.Y. Without this option, mypy will default to using
whatever version of Python is running mypy. Note that the <code class="docutils literal notranslate"><span class="pre">-2</span></code> and
<code class="docutils literal notranslate"><span class="pre">--py2</span></code> flags are aliases for <code class="docutils literal notranslate"><span class="pre">--python-version</span> <span class="pre">2.7</span></code>.</p>
<p class="last">This flag will attempt to find a Python executable of the corresponding
version to search for <a class="reference external" href="https://www.python.org/dev/peps/pep-0561/">PEP 561</a> compliant packages. If you’d like to
disable this, use the <code class="docutils literal notranslate"><span class="pre">--no-site-packages</span></code> flag (see
<a class="reference internal" href="#import-discovery"><span class="std std-ref">Import discovery</span></a> for more details).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">-2</span></code>, <code class="docutils literal notranslate"><span class="pre">--py2</span></code></dt>
<dd>Equivalent to running <code class="docutils literal notranslate"><span class="pre">--python-version</span> <span class="pre">2.7</span></code>.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--platform</span> <span class="pre">PLATFORM</span></code></dt>
<dd><p class="first">This flag will make mypy type check your code as if it were
run under the given operating system. Without this option, mypy will
default to using whatever operating system you are currently using.</p>
<p class="last">The <code class="docutils literal notranslate"><span class="pre">PLATFORM</span></code> parameter may be any string supported by
<a class="reference external" href="https://docs.python.org/3/library/sys.html#sys.platform">sys.platform</a>.</p>
</dd>
</dl>
<dl class="docutils" id="always-true">
<dt><code class="docutils literal notranslate"><span class="pre">--always-true</span> <span class="pre">NAME</span></code></dt>
<dd>This flag will treat all variables named <code class="docutils literal notranslate"><span class="pre">NAME</span></code> as
compile-time constants that are always true.  This flag may
be repeated.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--always-false</span> <span class="pre">NAME</span></code></dt>
<dd>This flag will treat all variables named <code class="docutils literal notranslate"><span class="pre">NAME</span></code> as
compile-time constants that are always false.  This flag may
be repeated.</dd>
</dl>
</div>
<div class="section" id="disallow-dynamic-typing">
<span id="id3"></span><h2>Disallow dynamic typing<a class="headerlink" href="#disallow-dynamic-typing" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">Any</span></code> type is used represent a value that has a <a class="reference internal" href="dynamic_typing.html#dynamic-typing"><span class="std std-ref">dynamic type</span></a>.
The <code class="docutils literal notranslate"><span class="pre">--disallow-any</span></code> family of flags will disallow various uses of the <code class="docutils literal notranslate"><span class="pre">Any</span></code> type in
a module – this lets us strategically disallow the use of dynamic typing in a controlled way.</p>
<p>The following options are available:</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-any-unimported</span></code></dt>
<dd>This flag disallows usage of types that come from unfollowed imports
(such types become aliases for <code class="docutils literal notranslate"><span class="pre">Any</span></code>). Unfollowed imports occur either
when the imported module does not exist or when <code class="docutils literal notranslate"><span class="pre">--follow-imports=skip</span></code>
is set.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-any-expr</span></code></dt>
<dd><p class="first">This flag disallows all expressions in the module that have type <code class="docutils literal notranslate"><span class="pre">Any</span></code>.
If an expression of type <code class="docutils literal notranslate"><span class="pre">Any</span></code> appears anywhere in the module
mypy will output an error unless the expression is immediately
used as an argument to <code class="docutils literal notranslate"><span class="pre">cast</span></code> or assigned to a variable with an
explicit type annotation.</p>
<p class="last">In addition, declaring a variable of type <code class="docutils literal notranslate"><span class="pre">Any</span></code>
or casting to type <code class="docutils literal notranslate"><span class="pre">Any</span></code> is not allowed. Note that calling functions
that take parameters of type <code class="docutils literal notranslate"><span class="pre">Any</span></code> is still allowed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-any-decorated</span></code></dt>
<dd>This flag disallows functions that have <code class="docutils literal notranslate"><span class="pre">Any</span></code> in their signature
after decorator transformation.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-any-explicit</span></code></dt>
<dd>This flag disallows explicit <code class="docutils literal notranslate"><span class="pre">Any</span></code> in type positions such as type
annotations and generic type parameters.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-any-generics</span></code></dt>
<dd>This flag disallows usage of generic types that do not specify explicit
type parameters. Moreover, built-in collections (such as <code class="docutils literal notranslate"><span class="pre">list</span></code> and
<code class="docutils literal notranslate"><span class="pre">dict</span></code>) become disallowed as you should use their aliases from the typing
module (such as <code class="docutils literal notranslate"><span class="pre">List[int]</span></code> and <code class="docutils literal notranslate"><span class="pre">Dict[str,</span> <span class="pre">str]</span></code>).</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-subclassing-any</span></code></dt>
<dd><p class="first">This flag reports an error whenever a class subclasses a value of
type <code class="docutils literal notranslate"><span class="pre">Any</span></code>.  This may occur when the base class is imported from
a module that doesn’t exist (when using
<a class="reference internal" href="running_mypy.html#ignore-missing-imports"><span class="std std-ref">–ignore-missing-imports</span></a>) or is
ignored due to <a class="reference internal" href="running_mypy.html#follow-imports"><span class="std std-ref">–follow-imports=skip</span></a> or a
<code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> comment on the <code class="docutils literal notranslate"><span class="pre">import</span></code> statement.</p>
<p class="last">Since the module is silenced, the imported class is given a type of <code class="docutils literal notranslate"><span class="pre">Any</span></code>.
By default mypy will assume that the subclass correctly inherited
the base class even though that may not actually be the case.  This
flag makes mypy raise an error instead.</p>
</dd>
</dl>
</div>
<div class="section" id="untyped-definitions-and-calls">
<span id="id4"></span><h2>Untyped definitions and calls<a class="headerlink" href="#untyped-definitions-and-calls" title="Permalink to this headline">¶</a></h2>
<p>The following flags configure how mypy handles untyped function
definitions or calls.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-untyped-calls</span></code></dt>
<dd>This flag reports an error whenever a function with type annotations
calls a function defined without annotations.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-untyped-defs</span></code></dt>
<dd>This flag reports an error whenever it encounters a function definition
without type annotations.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-incomplete-defs</span></code></dt>
<dd>This flag reports an error whenever it encounters a partly annotated
function definition.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--check-untyped-defs</span></code></dt>
<dd><p class="first">This flag is less severe than the previous two options – it type checks
the body of every function, regardless of whether it has type annotations.
(By default the bodies of functions without annotations are not type
checked.)</p>
<p class="last">It will assume all arguments have type <code class="docutils literal notranslate"><span class="pre">Any</span></code> and always infer <code class="docutils literal notranslate"><span class="pre">Any</span></code>
as the return type.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--disallow-untyped-decorators</span></code></dt>
<dd>This flag reports an error whenever a function with type annotations
is decorated with a decorator without annotations.</dd>
</dl>
</div>
<div class="section" id="none-and-optional-handling">
<span id="id5"></span><h2>None and Optional handling<a class="headerlink" href="#none-and-optional-handling" title="Permalink to this headline">¶</a></h2>
<p>The following flags adjust how mypy handles values of type <cite>None</cite>.
For more details, see <a class="reference internal" href="kinds_of_types.html#no-strict-optional"><span class="std std-ref">Disabling strict optional checking</span></a>.</p>
<dl class="docutils" id="no-implicit-optional">
<dt><code class="docutils literal notranslate"><span class="pre">--no-implicit-optional</span></code></dt>
<dd><p class="first">This flag causes mypy to stop treating arguments with a <code class="docutils literal notranslate"><span class="pre">None</span></code>
default value as having an implicit <code class="docutils literal notranslate"><span class="pre">Optional[...]</span></code> type.</p>
<p>For example, by default mypy will assume that the <code class="docutils literal notranslate"><span class="pre">x</span></code> parameter
is of type <code class="docutils literal notranslate"><span class="pre">Optional[int]</span></code> in the code snippet below since
the default parameter is <code class="docutils literal notranslate"><span class="pre">None</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>If this flag is set, the above snippet will no longer type check:
we must now explicitly indicate that the type is <code class="docutils literal notranslate"><span class="pre">Optional[int]</span></code>:</p>
<div class="last highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">x</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--no-strict-optional</span></code></dt>
<dd>This flag disables strict checking of <code class="docutils literal notranslate"><span class="pre">Optional[...]</span></code>
types and <code class="docutils literal notranslate"><span class="pre">None</span></code> values. With this option, mypy doesn’t
generally check the use of <code class="docutils literal notranslate"><span class="pre">None</span></code> values – they are valid
everywhere. See <a class="reference internal" href="kinds_of_types.html#no-strict-optional"><span class="std std-ref">Disabling strict optional checking</span></a> for more about this feature.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Strict optional checking was enabled by default starting in
mypy 0.600, and in previous versions it had to be explicitly enabled
using <code class="docutils literal notranslate"><span class="pre">--strict-optional</span></code> (which is still accepted).</p>
</div>
</div>
<div class="section" id="configuring-warnings">
<span id="id6"></span><h2>Configuring warnings<a class="headerlink" href="#configuring-warnings" title="Permalink to this headline">¶</a></h2>
<p>The follow flags enable warnings for code that is sound but is
potentially problematic or redundant in some way.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--warn-redundant-casts</span></code></dt>
<dd>This flag will make mypy report an error whenever your code uses
an unnecessary cast that can safely be removed.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--warn-unused-ignores</span></code></dt>
<dd><p class="first">This flag will make mypy report an error whenever your code uses
a <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> comment on a line that is not actually
generating an error message.</p>
<p>This flag, along with the <code class="docutils literal notranslate"><span class="pre">--warn-unsued-casts</span></code> flag, are both
particularly useful when you are upgrading mypy. Previously,
you may have needed to add casts or <code class="docutils literal notranslate"><span class="pre">#</span> <span class="pre">type:</span> <span class="pre">ignore</span></code> annotations
to work around bugs in mypy or missing stubs for 3rd party libraries.</p>
<p class="last">These two flags let you discover cases where either workarounds are
no longer necessary.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--no-warn-no-return</span></code></dt>
<dd><p class="first">By default, mypy will generate errors when a function is missing
return statements in some execution paths. The only exceptions
are when:</p>
<ul class="simple">
<li>The function has a <code class="docutils literal notranslate"><span class="pre">None</span></code> or <code class="docutils literal notranslate"><span class="pre">Any</span></code> return type</li>
<li>The function has an empty body or a body that is just
ellipsis (<code class="docutils literal notranslate"><span class="pre">...</span></code>). Empty functions are often used for
abstract methods.</li>
</ul>
<p class="last">Passing in <code class="docutils literal notranslate"><span class="pre">--no-warn-no-return</span></code> will disable these error
messages in all cases.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--warn-return-any</span></code></dt>
<dd>This flag causes mypy to generate a warning when returning a value
with type <code class="docutils literal notranslate"><span class="pre">Any</span></code> from a function declared with a non- <code class="docutils literal notranslate"><span class="pre">Any</span></code> return type.</dd>
</dl>
</div>
<div class="section" id="miscellaneous-strictness-flags">
<h2>Miscellaneous strictness flags<a class="headerlink" href="#miscellaneous-strictness-flags" title="Permalink to this headline">¶</a></h2>
<p>This section documents any other flags that do not neatly fall under any
of the above sections.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--strict</span></code></dt>
<dd><p class="first">This flag mode enables all optional error checking flags.  You can see the
list of flags enabled by strict mode in the full <code class="docutils literal notranslate"><span class="pre">mypy</span> <span class="pre">--help</span></code> output.</p>
<p class="last">Note: the exact list of flags enabled by running <code class="docutils literal notranslate"><span class="pre">--strict</span></code> may change
over time.</p>
</dd>
</dl>
</div>
<div class="section" id="configuring-error-messages">
<span id="id7"></span><h2>Configuring error messages<a class="headerlink" href="#configuring-error-messages" title="Permalink to this headline">¶</a></h2>
<p>The following flags let you adjust how much detail mypy displays
in error messages.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--show-error-context</span></code></dt>
<dd><p class="first">This flag will precede all errors with “note” messages explaining the
context of the error. For example, consider the following program:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Test</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="s2">&quot;bar&quot;</span>
</pre></div>
</div>
<p>Mypy normally displays an error message that looks like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">main</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">3</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">Unsupported</span> <span class="n">operand</span> <span class="n">types</span> <span class="k">for</span> <span class="o">+</span> <span class="p">(</span><span class="s2">&quot;int&quot;</span> <span class="ow">and</span> <span class="s2">&quot;str&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>If we enable this flag, the error message now looks like this:</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span>main.py: note: In member &quot;foo&quot; of class &quot;Test&quot;:
main.py:3: error: Unsupported operand types for + (&quot;int&quot; and &quot;str&quot;)
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--show-column-numbers</span></code></dt>
<dd><p class="first">This flag will add column offsets to error messages,
for example, the following indicates an error in line 12, column 9
(note that column offsets are 0-based):</p>
<div class="last highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">main</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">12</span><span class="p">:</span><span class="mi">9</span><span class="p">:</span> <span class="n">error</span><span class="p">:</span> <span class="n">Unsupported</span> <span class="n">operand</span> <span class="n">types</span> <span class="k">for</span> <span class="o">/</span> <span class="p">(</span><span class="s2">&quot;int&quot;</span> <span class="ow">and</span> <span class="s2">&quot;str&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</div>
<div class="section" id="incremental-mode">
<span id="incremental"></span><h2>Incremental mode<a class="headerlink" href="#incremental-mode" title="Permalink to this headline">¶</a></h2>
<p>By default, mypy will store type information into a cache. Mypy
will use this information to avoid unnecessary recomputation when
it type checks your code again.  This can help speed up the type
checking process, especially when most parts of your program have
not changed since the previous mypy run.</p>
<p>If you want to speed up how long it takes to recheck your code
beyond what incremental mode can offer, try running mypy in
<a class="reference internal" href="mypy_daemon.html#mypy-daemon"><span class="std std-ref">daemon mode</span></a>.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--no-incremental</span></code></dt>
<dd><p class="first">This flag disables incremental mode: mypy will no longer reference
the cache when re-run.</p>
<p class="last">Note that mypy will still write out to the cache even when
incremental mode is disabled: see the <code class="docutils literal notranslate"><span class="pre">--cache-dir</span></code> flag below
for more details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--cache-dir</span> <span class="pre">DIR</span></code></dt>
<dd><p class="first">By default, mypy stores all cache data inside of a folder named
<code class="docutils literal notranslate"><span class="pre">.mypy_cache</span></code> in the current directory. This flag lets you
change this folder. This flag can also be useful for controlling
cache use when using <a class="reference internal" href="additional_features.html#remote-cache"><span class="std std-ref">remote caching</span></a>.</p>
<p class="last">Mypy will also always write to the cache even when incremental
mode is disabled so it can “warm up” the cache. To disable
writing to the cache, use <code class="docutils literal notranslate"><span class="pre">--cache-dir=/dev/null</span></code> (UNIX)
or <code class="docutils literal notranslate"><span class="pre">--cache-dir=nul</span></code> (Windows).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--skip-version-check</span></code></dt>
<dd>By default, mypy will ignore cache data generated by a different
version of mypy. This flag disables that behavior.</dd>
</dl>
<dl class="docutils" id="quick-mode">
<dt><code class="docutils literal notranslate"><span class="pre">--quick-and-dirty</span></code></dt>
<dd><p class="first">This flag enables an experimental, unsafe variant of incremental mode.
Quick mode is faster than regular incremental mode because it only
re-checks modules that were modified since their cache file was
last written: regular incremental mode also re-checks all modules
that depend on one or more modules that were re-checked.</p>
<p>Quick mode is unsafe because it may miss problems caused by a change
in a dependency.  Quick mode updates the cache, but regular incremental
mode ignores cache files written by quick mode.</p>
<p class="last">We recommend that you try using the <a class="reference internal" href="mypy_daemon.html#mypy-daemon"><span class="std std-ref">Mypy daemon (mypy server)</span></a> before
attempting to use this feature.</p>
</dd>
</dl>
</div>
<div class="section" id="advanced-flags">
<span id="id8"></span><h2>Advanced flags<a class="headerlink" href="#advanced-flags" title="Permalink to this headline">¶</a></h2>
<p>The following flags are useful mostly for people who are interested
in developing or debugging mypy internals.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--pdb</span></code></dt>
<dd>This flag will invoke the Python debugger when mypy encounters
a fatal error.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--show-traceback</span></code>, <code class="docutils literal notranslate"><span class="pre">--tb</span></code></dt>
<dd>If set, this flag will display a full traceback when mypy
encounters a fatal error.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--custom-typing</span> <span class="pre">MODULE</span></code></dt>
<dd>This flag lets you use a custom module as a substitute for the
<code class="docutils literal notranslate"><span class="pre">typing</span></code> module.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--custom-typeshed-dir</span> <span class="pre">DIR</span></code></dt>
<dd>This flag specifies the directory where mypy looks for typeshed
stubs, instead of the typeshed that ships with mypy.  This is
primarily intended to make it easier to test typeshed changes before
submitting them upstream, but also allows you to use a forked version of
typeshed.</dd>
</dl>
<dl class="docutils" id="warn-incomplete-stub">
<dt><code class="docutils literal notranslate"><span class="pre">--warn-incomplete-stub</span></code></dt>
<dd><p class="first">This flag modifies both the <code class="docutils literal notranslate"><span class="pre">--disallow-untyped-defs</span></code> and
<code class="docutils literal notranslate"><span class="pre">--disallow-incomplete-defs</span></code> flags so they also report errors
if stubs in typeshed are missing type annotations or has incomplete
annotations. If both flags are missing, <code class="docutils literal notranslate"><span class="pre">--warn-incomplete-stub</span></code>
also does nothing.</p>
<p>This flag is mainly intended to be used by people who want contribute
to typeshed and would like a convenient way to find gaps and omissions.</p>
<p class="last">If you want mypy to report an error when your codebase <em>uses</em> an untyped
function, whether that function is defined in typeshed or not, use the
<code class="docutils literal notranslate"><span class="pre">--disallow-untyped-call</span></code> flag. See <a class="reference internal" href="#untyped-definitions-and-calls"><span class="std std-ref">Untyped definitions and calls</span></a>
for more details.</p>
</dd>
</dl>
<dl class="docutils" id="shadow-file">
<dt><code class="docutils literal notranslate"><span class="pre">--shadow-file</span> <span class="pre">SOURCE_FILE</span> <span class="pre">SHADOW_FILE</span></code></dt>
<dd><p class="first">When mypy is asked to type check <code class="docutils literal notranslate"><span class="pre">SOURCE_FILE</span></code>, this flag makes mypy
read from and type check the contents of <code class="docutils literal notranslate"><span class="pre">SHADOW_FILE</span></code> instead. However,
diagnostics will continue to refer to <code class="docutils literal notranslate"><span class="pre">SOURCE_FILE</span></code>.</p>
<p>Specifying this argument multiple times (<code class="docutils literal notranslate"><span class="pre">--shadow-file</span> <span class="pre">X1</span> <span class="pre">Y1</span> <span class="pre">--shadow-file</span> <span class="pre">X2</span> <span class="pre">Y2</span></code>)
will allow mypy to perform multiple substitutions.</p>
<p class="last">This allows tooling to create temporary files with helpful modifications
without having to change the source file in place. For example, suppose we
have a pipeline that adds <code class="docutils literal notranslate"><span class="pre">reveal_type</span></code> for certain variables.
This pipeline is run on <code class="docutils literal notranslate"><span class="pre">original.py</span></code> to produce <code class="docutils literal notranslate"><span class="pre">temp.py</span></code>.
Running <code class="docutils literal notranslate"><span class="pre">mypy</span> <span class="pre">--shadow-file</span> <span class="pre">original.py</span> <span class="pre">temp.py</span> <span class="pre">original.py</span></code> will then
cause mypy to type check the contents of <code class="docutils literal notranslate"><span class="pre">temp.py</span></code> instead of  <code class="docutils literal notranslate"><span class="pre">original.py</span></code>,
but error messages will still reference <code class="docutils literal notranslate"><span class="pre">original.py</span></code>.</p>
</dd>
</dl>
</div>
<div class="section" id="report-generation">
<h2>Report generation<a class="headerlink" href="#report-generation" title="Permalink to this headline">¶</a></h2>
<p>If these flags are set, mypy will generate a report in the specified
format into the specified directory.</p>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--any-exprs-report</span> <span class="pre">DIR</span></code></dt>
<dd>Causes mypy to generate a text file report documenting how many
expressions of type <code class="docutils literal notranslate"><span class="pre">Any</span></code> are present within your codebase.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--linecount-report</span> <span class="pre">DIR</span></code></dt>
<dd>Causes mypy to generate a text file report documenting the functions
and lines that are typed and untyped within your codebase.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--linecoverage-report</span> <span class="pre">DIR</span></code></dt>
<dd>Causes mypy to generate a JSON file that maps each source file’s
absolute filename to a list of line numbers that belong to typed
functions in that file.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--cobertura-xml-report</span> <span class="pre">DIR</span></code></dt>
<dd><p class="first">Causes mypy to generate a Cobertura XML type checking coverage report.</p>
<p class="last">You must install the <a class="reference external" href="https://pypi.org/project/lxml/">lxml</a> library to generate this report.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--html-report</span> <span class="pre">DIR</span></code>, <code class="docutils literal notranslate"><span class="pre">--xslt-html-report</span> <span class="pre">DIR</span></code></dt>
<dd><p class="first">Causes mypy to generate an HTML type checking coverage report.</p>
<p class="last">You must install the <a class="reference external" href="https://pypi.org/project/lxml/">lxml</a> library to generate this report.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--txt-report</span> <span class="pre">DIR</span></code>, <code class="docutils literal notranslate"><span class="pre">--xslt-txt-report</span> <span class="pre">DIR</span></code></dt>
<dd><p class="first">Causes mypy to generate a text file type checking coverage report.</p>
<p class="last">You must install the <a class="reference external" href="https://pypi.org/project/lxml/">lxml</a> library to generate this report.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--junit-xml</span> <span class="pre">JUNIT_XML</span></code></dt>
<dd>Causes mypy to generate a JUnit XML test result document with
type checking results. This can make it easier to integrate mypy
with continuous integration (CI) tools.</dd>
</dl>
</div>
<div class="section" id="miscellaneous">
<h2>Miscellaneous<a class="headerlink" href="#miscellaneous" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt><code class="docutils literal notranslate"><span class="pre">--find-occurrences</span> <span class="pre">CLASS.MEMBER</span></code></dt>
<dd>This flag will make mypy print out all usages of a class member
based on static type information. This feature is experimental.</dd>
<dt><code class="docutils literal notranslate"><span class="pre">--scripts-are-modules</span></code></dt>
<dd><p class="first">This flag will give command line arguments that appear to be
scripts (i.e. files whose name does not end in <code class="docutils literal notranslate"><span class="pre">.py</span></code>)
a module name derived from the script name rather than the fixed
name <code class="docutils literal notranslate"><span class="pre">__main__</span></code>.</p>
<p class="last">This lets you check more than one script in a single mypy invocation.
(The default <code class="docutils literal notranslate"><span class="pre">__main__</span></code> is technically more correct, but if you
have many scripts that import a large package, the behavior enabled
by this flag is often more convenient.)</p>
</dd>
</dl>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">The mypy command line</a><ul>
<li><a class="reference internal" href="#specifying-what-to-type-check">Specifying what to type check</a></li>
<li><a class="reference internal" href="#config-file">Config file</a></li>
<li><a class="reference internal" href="#import-discovery">Import discovery</a></li>
<li><a class="reference internal" href="#platform-configuration">Platform configuration</a></li>
<li><a class="reference internal" href="#disallow-dynamic-typing">Disallow dynamic typing</a></li>
<li><a class="reference internal" href="#untyped-definitions-and-calls">Untyped definitions and calls</a></li>
<li><a class="reference internal" href="#none-and-optional-handling">None and Optional handling</a></li>
<li><a class="reference internal" href="#configuring-warnings">Configuring warnings</a></li>
<li><a class="reference internal" href="#miscellaneous-strictness-flags">Miscellaneous strictness flags</a></li>
<li><a class="reference internal" href="#configuring-error-messages">Configuring error messages</a></li>
<li><a class="reference internal" href="#incremental-mode">Incremental mode</a></li>
<li><a class="reference internal" href="#advanced-flags">Advanced flags</a></li>
<li><a class="reference internal" href="#report-generation">Report generation</a></li>
<li><a class="reference internal" href="#miscellaneous">Miscellaneous</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="running_mypy.html"
                        title="previous chapter">Running mypy and managing imports</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="config_file.html"
                        title="next chapter">The mypy configuration file</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/command_line.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="config_file.html" title="The mypy configuration file"
             >next</a> |</li>
        <li class="right" >
          <a href="running_mypy.html" title="Running mypy and managing imports"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Mypy 0.630+dev-734a166d380bfb0de05ce0e3c61dc7e675898e9c-dirty documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Jukka Lehtosalo.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.5.
    </div>
  </body>
</html>