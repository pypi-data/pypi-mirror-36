
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Contributing &#8212; csnake 0.2.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="csnake Changelog" href="changes.html" />
    <link rel="prev" title="API Documentation" href="source/csnake.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<p>If you want to contribute to <em>csnake</em>, please follow these guidelines.</p>
<div class="section" id="old-python-versions">
<h2>Old Python versions<a class="headerlink" href="#old-python-versions" title="Permalink to this headline">¶</a></h2>
<p>Csnake works with Python versions 3.6 and 3.7.
It uses
<a class="reference external" href="https://docs.python.org/3.6/reference/lexical_analysis.html#f-strings">formatted string literals</a>
which first appear in version 3.6.</p>
<p>I have <strong>no</strong> interest in porting csnake to older versions of Python
(especially not 2.x) and won’t take in such pull requests.</p>
</div>
<div class="section" id="pre-commit-hooks">
<h2>pre-commit hooks<a class="headerlink" href="#pre-commit-hooks" title="Permalink to this headline">¶</a></h2>
<p>Csnake uses an opinionated automatic code formatting setup that’s run
pre-commit for every commit you’re making.
This prevents contributors from wasting their time on formatting code, and also
warns them about some kind of errors (via linter).
The formatters’ settings are tailored to produce code that <em>diffs clean</em>,
meaning that parts of code (arguments, <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">include</span> <span class="pre">...</span></code>) are split
into lines.</p>
<dl class="docutils">
<dt>Pre-commit hooks include:</dt>
<dd><dl class="first last docutils">
<dt><em>reorder_python_imports</em></dt>
<dd>Reorders imports and breaks them up into lines (so they <em>diff clean</em>)</dd>
<dt><em>pyupgrade</em></dt>
<dd>Upgrades obsolete python syntax.</dd>
<dt><em>black</em></dt>
<dd>Formats the code in an opinionated way</dd>
<dt><em>flake8</em></dt>
<dd>Statically checks for all kinds of bugs</dd>
</dl>
</dd>
</dl>
<p>You are expected to run the pre-commit hooks locally before you make a pull
request.
All of them (along with <em>pytest</em> and Sphinx <em>doctest</em>) will be re-run by the CI
server side when you commit your code, and you’ll be asked to fix the errors
reported before your commit is considered for merging.</p>
</div>
<div class="section" id="installing-the-development-environment">
<h2>Installing the development environment<a class="headerlink" href="#installing-the-development-environment" title="Permalink to this headline">¶</a></h2>
<p>You can install (locally, in a <cite>pipenv</cite> environment) everything you need for
development by running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">setup</span></code> in the root of the project.
Python 3.6+ and pipenv are required.</p>
<p>This installs packages needed for formatting, pre-commit tasks, linting and
testing, and also sets up the pre-commit hook.</p>
</div>
<div class="section" id="testing">
<h2>Testing<a class="headerlink" href="#testing" title="Permalink to this headline">¶</a></h2>
<p>Csnake is thoroughly tested with <a class="reference external" href="https://docs.pytest.org/en/latest/">pytest</a>
based scripts in the <code class="docutils literal notranslate"><span class="pre">tests</span></code> folder.</p>
<p>You must thoroughly test your additions in the same way if you want your code
to be merged.
Your code mustn’t break any existing tests.</p>
<p>Tests are run by CI when you submit your pull request.
You should run them locally beforehand, too.</p>
<p>Pytest tests can be run with the following commands (after you’ve installed the
dev environment):</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>python -m pytest -vv
</pre></div>
</div>
<p>or</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pytest -vv
</pre></div>
</div>
<p>If you’re using <cite>pipenv</cite> for development, you should activate it beforehand:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>pipenv shell
</pre></div>
</div>
<p id="doctest-make">There are doctests within the documentation.
Its primary purpose is to provide examples, not for testing.
Still, it’ll be tested by the CI for errors.
Locally, you can do the same by running:</p>
<div class="highlight-sh notranslate"><div class="highlight"><pre><span></span>make doctest
</pre></div>
</div>
<p>from the <cite>docs</cite> folder.</p>
<p>Docs can be generated by running <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">html</span></code> from the <cite>docs</cite> folder.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>Every public class, function and module must be documented via its <cite>docstring</cite>.</p>
<p>Docstrings are processed by <em>Sphinx</em> and its
<a class="reference external" href="http://www.sphinx-doc.org/en/master/usage/extensions/napoleon.html">Napoleon</a>
plugin to create the API section of the documentation.
<a class="reference external" href="www.sphinx-doc.org/en/master/usage/extensions/example_google.html">Google style</a>
should be used for docstrings (see the existing docstrings, too).</p>
<p>Examples should be provided within the docstring in doctest format.
These shouldn’t be used as a way of testing (that’s what <cite>pytest</cite> tests are
for), but their correctness will be checked by the CI. Erroneous documentation
is bad.</p>
<p>If you want to see how your docs look like or check them for errors, take
a look into doc generation <a class="reference internal" href="#doctest-make"><span class="std std-ref">above</span></a>.</p>
<p>Within the RST documentation, there’s a file that categorizes
<cite>Napoleon</cite>-generated API documentation (<code class="docutils literal notranslate"><span class="pre">docs/source/csnake.rst</span></code>).
If you’re adding functions or classes, you should indicate their categories in
that file.</p>
</div>
<div class="section" id="versioning">
<h2>Versioning<a class="headerlink" href="#versioning" title="Permalink to this headline">¶</a></h2>
<p>Csnake uses <a class="reference external" href="https://semver.org/">Semantic Versioning</a>. Here’s a short
summary:</p>
<blockquote>
<div><p>Given a version number MAJOR.MINOR.PATCH, increment the:</p>
<ol class="arabic simple">
<li>MAJOR version when you make incompatible API changes,</li>
<li>MINOR version when you add functionality in a backwards-compatible
manner, and</li>
<li>PATCH version when you make backwards-compatible bug fixes.</li>
</ol>
<p>Additional labels for pre-release and build metadata are available as
extensions to the MAJOR.MINOR.PATCH format.</p>
</div></blockquote>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">csnake</a></h1>



<p class="blurb">C code generation package</p>






<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="source/csnake.html">API Documentation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#old-python-versions">Old Python versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pre-commit-hooks">pre-commit hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installing-the-development-environment">Installing the development environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#testing">Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versioning">Versioning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="changes.html">csnake Changelog</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="source/csnake.html" title="previous chapter">API Documentation</a></li>
      <li>Next: <a href="changes.html" title="next chapter">csnake Changelog</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Andrej Radović.
      
      |
      <a href="_sources/contributing.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>